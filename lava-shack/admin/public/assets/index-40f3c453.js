import{j as t,a as e,r as g,M as d,C as j,B as x,d as D}from"./index-effbfb95.js";import{F as A}from"./file-icon-3c84b281.js";import{T as M}from"./trash-icon-abcb5140.js";import{X as I}from"./use-notification-9f7c3c92.js";import{C as U}from"./index-1ec19c89.js";const P=({size:a="20",color:o="currentColor",...s})=>t("svg",{width:a,height:a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[e("path",{d:"M16.0893 13.1868C16.6838 12.7754 17.1321 12.1858 17.3697 11.503C17.6072 10.8202 17.6216 10.0796 17.4107 9.38816C17.1999 8.69667 16.7748 8.09007 16.1968 7.65594C15.6187 7.2218 14.9177 6.9826 14.1948 6.97285H12.8308C12.6017 6.20011 12.1996 5.48973 11.6549 4.89565C11.1102 4.30157 10.4374 3.83943 9.68735 3.54431C8.93734 3.24918 8.12995 3.12885 7.32648 3.19244C6.52301 3.25603 5.7446 3.50187 5.05036 3.9113C4.35612 4.32072 3.7643 4.88297 3.31985 5.55533C2.8754 6.22769 2.59001 6.99248 2.48535 7.79164C2.38068 8.59079 2.4595 9.40329 2.71582 10.1674C2.97214 10.9316 3.39921 11.6272 3.96461 12.2016",stroke:o,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10.0273 10.0039V16.8241",stroke:o,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M13.0585 13.0351L10.0273 10.0039L6.99609 13.0351",stroke:o,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),W=a=>{const{fill:o,size:s,...n}=a,r=o||"#111827";return t("svg",{width:s||20,height:s||20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[e("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5.83203 8.33301L9.9987 12.4997L14.1654 8.33301",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10 12.5V2.5",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},z=a=>{const{fill:o,size:s,...n}=a,r=o||"#111827";return t("svg",{width:s||24,height:s||24,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[e("path",{d:"M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10 6.66699V10.0003",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10 13.333H10.0088",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};function f(a){const{action:o,name:s,progress:n,size:r,status:c}=a,i=r/1024<10?`${(r/1024).toFixed(2)} KiB`:`${(r/(1024*1024)).toFixed(2)} MiB`;return t("div",{className:"relative",children:[e("div",{style:{width:`${n}%`},className:"absolute bg-grey-5 h-full transition-width duration-150 ease-in-out"}),t("div",{className:"relative flex items-center rounded-xl border border-1 mt-6",children:[e("div",{className:"m-4",children:e(A,{size:30,fill:n?"#9CA3AF":"#2DD4BF"})}),t("div",{className:"flex-1 my-6",children:[e("div",{className:"text-small leading-5 text-grey-90",children:s}),e("div",{className:"text-xsmall leading-4 text-grey-50",children:c||i})]}),e("div",{className:"m-6",children:o})]})]})}function B(a){const{creations:o,updates:s,rejections:n,type:r}=a;return t("div",{className:"flex gap-6",children:[t("div",{className:"flex items-center text-small text-grey-90",children:[e(U,{color:"#9CA3AF",className:"mr-2"}),t("span",{className:"font-semibold",children:[" ",o," "]})," new ",r]}),s&&t("div",{className:"flex items-center text-small text-grey-90",children:[e(z,{fill:"#9CA3AF",className:"mr-2"}),t("span",{className:"font-semibold",children:[s," "]})," updates"]}),n&&t("div",{className:"flex items-center text-small text-grey-90",children:[e(I,{color:"#9CA3AF",className:"mr-2"}),t("span",{className:"font-semibold",children:[n," "]})," rejections"]})]})}function T(a){const[o,s]=g.useState(!1),n=i=>{var l;i.preventDefault(),i.stopPropagation(),s(!1),(l=i.dataTransfer.items)!=null&&l.length&&a.onUpload(i.dataTransfer.items[0].getAsFile())},r=i=>{a.onUpload(i.target.files[0])};return t("div",{onDragEnter:()=>s(!0),onDragLeave:()=>s(!1),onDragOver:i=>{i.stopPropagation(),i.preventDefault()},onDrop:n,className:D("flex flex-col justify-center items-center border border-dashed rounded-xl mt-3 p-6",{"opacity-50":o}),children:[t("span",{className:"text-grey-50 text-small",children:["Drop your file here, or",t("a",{className:"text-violet-60",children:[t("label",{className:"cursor-pointer",htmlFor:"upload-form-file",children:[" ","click to browse."]}),e("input",{type:"file",id:"upload-form-file",className:"hidden",accept:"text/csv",onChange:r})]})]}),e("span",{className:"text-grey-40 text-small",children:"Only .csv files are supported."})]})}function X(a){const{description1Text:o,description2Text:s,description2Title:n,fileTitle:r,canImport:c,processUpload:i,onClose:l,onSubmit:k,onFileRemove:v,templateLink:C,progress:S,summary:m,status:N,type:y}=a,[p,h]=g.useState(),{name:w,size:b}=p||{},L=async u=>{h(u),await i(u)},F=()=>{h(void 0),v()};return e(d,{open:!0,handleClose:l,children:t(d.Body,{children:[t(d.Content,{children:[t("div",{className:"flex justify-between",children:[t("span",{className:"text-2xl text-grey-90 inter-large-semibold py-4",children:["Import ",r]}),e("button",{onClick:l,className:"text-grey-50 cursor-pointer",children:e(j,{size:20})})]}),t("div",{className:"text-grey-90 text-base inter-large-semibold mb-1",children:["Import ",r]}),e("p",{className:"text-grey-50 mb-4 text-base",children:o}),m&&e(B,{creations:m.toCreate,updates:m.toUpdate,type:y}),p?e(f,{size:b,name:w,status:N,progress:100,action:e("a",{className:"w-6 h-6 cursor-pointer",onClick:F,children:e(M,{stroke:"#9CA3AF"})})}):e(T,{onUpload:L}),e("div",{className:"text-grey-90 text-base inter-large-semibold mt-8",children:n}),e("p",{className:"text-grey-50 mb-2 text-base",children:s}),e(f,{name:"medusa-template.csv",size:2967,action:e("a",{className:"w-6 h-6 cursor-pointer",href:C,download:!0,children:e(W,{stroke:"#9CA3AF"})})}),e("div",{className:"h-2"})]}),e(d.Footer,{children:e("div",{className:"flex w-full h-8 justify-end",children:t("div",{className:"flex gap-2",children:[e(x,{variant:"secondary",className:"mr-2 text-small justify-center",size:"small",onClick:l,children:"Cancel"}),e(x,{size:"small",disabled:!c,variant:"primary",className:"text-small",onClick:k,children:"Import List"})]})})})]})})}export{X as U,P as a};
