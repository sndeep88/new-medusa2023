import{r as l,j as m,a as e,d as P}from"./index-effbfb95.js";import{r as S,a as U,T as N}from"./index-0d9858ea.js";import{u as E}from"./use-debounce-438a4ce8.js";import{I}from"./index-d33be3e8.js";import{$ as L,c as z,I as A,d as B}from"./index-b17c211e.js";import{l as D}from"./lodash-72dfe3e0.js";import{h as j}from"./moment-fbc5633a.js";import{A as V}from"./arrow-down-icon-49435f5a.js";import{c as W}from"./index-dd9f9076.js";const ee=({label:s,resourceName:n="",selectedIds:o=[],isLoading:i,totalCount:h=0,data:d,columns:u,onChange:p,options:f,renderRow:b,renderHeaderGroup:g,setQuery:w,queryObject:c,paginate:x})=>{var y;const v=l.useMemo(()=>d||[],[d]),t=S.useTable({columns:u,data:v,manualPagination:!0,initialState:{pageIndex:c.offset/c.limit,pageSize:c.limit,selectedRowIds:o.reduce((a,M)=>(a[M]=!0,a),{})},pageCount:Math.ceil(h/c.limit),autoResetSelectedRows:!1,autoResetPage:!1,getRowId:a=>a.id},S.useSortBy,S.usePagination,S.useRowSelect,Q);l.useEffect(()=>{p&&p(Object.keys(t.state.selectedRowIds))},[t.state.selectedRowIds]);const r=()=>{t.canNextPage&&(x(1),t.nextPage())},C=()=>{t.canPreviousPage&&(x(-1),t.previousPage())},$=l.useCallback(a=>{w(a),a&&t.gotoPage(0)},[w,t]),[k,H]=l.useState(""),T=E(k,500);return l.useEffect(()=>{$(T)},[T]),m("div",{children:[s&&e("div",{className:"inter-base-semibold my-large",children:s}),e(U,{isLoading:i,numberOfRows:c.limit,hasPagination:!0,pagingState:{count:h,offset:c.offset,pageSize:c.offset+t.rows.length,title:n,currentPage:t.state.pageIndex+1,pageCount:t.pageCount,nextPage:r,prevPage:C,hasNext:t.canNextPage,hasPrev:t.canPreviousPage},children:m(N,{...f,...t.getTableProps(),handleSearch:f.enableSearch?H:void 0,searchValue:k,className:"relative",children:[g&&e(N.Head,{children:(y=t.headerGroups)==null?void 0:y.map(a=>g({headerGroup:a}))}),e(N.Body,{...t.getTableBodyProps(),children:t.rows.map(a=>(t.prepareRow(a),b({row:a})))})]})})]})},Q=s=>{s.visibleColumns.push(n=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:o})=>e("div",{className:"flex justify-center",children:e(I,{...o(),onClick:i=>i.stopPropagation()})}),Cell:({row:o})=>e("div",{className:"flex justify-center",children:e(I,{...o.getToggleRowSelectedProps(),onClick:i=>i.stopPropagation()})})},...n])},Z=({size:s="20",color:n="currentColor",...o})=>m("svg",{width:s,height:s,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8 4.66669V8.16669L10 9.33335",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),R=({numbers:s,selected:n,onSelect:o,className:i,...h})=>e("div",{...h,className:P("flex flex-col time-list h-[305px] overflow-y-auto",i),children:s.map((d,u)=>e("div",{className:P("w-[40px] h-[40px] last:mb-4 rounded inter-base-regular hover:bg-grey-20",{"bg-violet-60 hover:bg-violet-50 text-grey-0 inter-base-semibold":d===n}),children:e("button",{onClick:()=>o(d),className:"w-full h-full py-2",children:d.toLocaleString("en-US",{minimumIntegerDigits:2})})},u))}),te=({date:s,onSubmitDate:n,label:o="start date",required:i=!1,tooltipContent:h,tooltip:d})=>{var v,t;const[u,p]=l.useState((v=new Date(s))==null?void 0:v.getUTCMinutes()),[f,b]=l.useState((t=new Date(s))==null?void 0:t.getUTCHours());l.useEffect(()=>{var r,C;p((r=new Date(s))==null?void 0:r.getUTCMinutes()),b((C=new Date(s))==null?void 0:C.getUTCHours())},[s]),l.useEffect(()=>{if(s&&!D.isNil(f)&&!D.isNil(u)){const r=new Date(new Date(s).getTime());r.setUTCHours(f),r.setUTCMinutes(u),n(r)}},[u,f]);const[g,w]=l.useState(!1),c=[...Array(60).keys()],x=[...Array(24).keys()];return e("div",{className:"w-full",children:m(L,{open:g,onOpenChange:w,children:[e(z,{asChild:!0,children:e("button",{className:P("w-full rounded-rounded border ",{"shadow-input border-violet-60":g,"border-grey-20":!g}),children:m(A,{className:"border-0 shadown-none focus-within:shadow-none",children:[m("div",{className:"w-full flex text-grey-50 pr-0.5 justify-between",children:[e(W,{label:o,required:i,tooltipContent:h,tooltip:d}),e(V,{size:16})]}),m("div",{className:"w-full items-center flex text-left text-grey-40",children:[e(Z,{size:16}),e("span",{className:"mx-1",children:"UTC"}),e("span",{className:"text-grey-90",children:j.utc(s).format("HH:mm")})]})]})})}),m(B,{side:"top",sideOffset:8,className:"rounded-rounded scrollbar-hide border px-6 pt-6 pb-4 border-grey-20 bg-grey-0 w-full flex shadow-dropdown",children:[e(R,{numbers:x,selected:f,onSelect:r=>b(r),className:"pr-4"}),e(R,{numbers:c,selected:u,onSelect:r=>p(r)}),e("div",{className:"absolute bottom-4 left-0 right-0 bg-gradient-to-b from-transparent to-grey-0 h-xlarge z-10"})]})]})})};export{Z as C,ee as S,te as T};
