import{j as c,a as e,r as b,f as ke,g as ve,N as Y,u as we,X as Ne,n as Le,B as W,Z as X,i as je,e as D,d as L,L as B,F as Z,k as Se,l as Oe,$ as Te,m as $e,p as Q,s as Me,v as ee,w as te,C as Ie,S as U,c as Ee,x as Pe,y as We,z as _e,A as De,D as Ae,E as Be}from"./index-effbfb95.js";import{u as ne,I as He}from"./use-notification-9f7c3c92.js";import{B as Re}from"./index-67e6cb88.js";import{G as re}from"./index-2674456d.js";import{U as Fe}from"./index-1f7241c0.js";import{$ as ze,a as Ze,b as Ue,c as K,C as Ve,S as se}from"./chevron-down-6a69fe38.js";import{g as oe}from"./error-messages-d2d0bb30.js";import{A as ie}from"./index-5ca1a7bd.js";import{P as G}from"./index-b2b331b3.js";import{P as ae,a as qe}from"./polling-69bcbbd8.js";import{u as Ke}from"./use-toggle-state-9e07c572.js";import{u as z}from"./react-hotkeys-hook.esm-745ca041.js";import{u as Ge}from"./use-debounce-438a4ce8.js";import{$ as Je,a as Ye,b as Xe}from"./index-e25e2e97.js";import{C as Qe}from"./chevron-up-ae6c75fe.js";import{A as et}from"./arrow-down-icon-49435f5a.js";import{A as tt}from"./arrow-up-icon-ff67c91c.js";import{T as le,I as nt}from"./index-dd9f9076.js";import{S as rt}from"./index-b1c04d04.js";import{F as st}from"./file-icon-3c84b281.js";import{M as ot}from"./index-64d1e3c7.js";import{S as it}from"./index-04f3341e.js";import{T as at}from"./index-d74195ae.js";import"./index-1ec19c89.js";import"./index.esm-5a89640b.js";const lt=({size:n="24",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M5.70291 11.7848L4.18457 5.34766H16.6736C17.3175 5.34766 17.7893 5.89045 17.633 6.45189L16.2997 11.242C16.0969 11.9695 15.4084 12.5043 14.5776 12.579L7.83552 13.1848C6.83054 13.2745 5.91162 12.6713 5.70291 11.7848V11.7848Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.18418 5.34722L3.54123 2.68213H1.83594",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M14.2117 15.7988C13.7978 15.7988 13.4618 16.1349 13.4659 16.5488C13.4659 16.9628 13.8019 17.2988 14.2158 17.2988C14.6298 17.2988 14.9658 16.9628 14.9658 16.5488C14.9638 16.1349 14.6277 15.7988 14.2117 15.7988Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M7.20104 15.7988C6.78655 15.7988 6.45003 16.1344 6.45414 16.5478C6.45003 16.9632 6.7886 17.2988 7.20309 17.2988C7.61758 17.2988 7.9541 16.9632 7.9541 16.5499C7.9541 16.1344 7.61758 15.7988 7.20104 15.7988Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),ct=({size:n="20",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M3.75 7.5H2.5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.75 12.5H2.5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M3.33366 10H1.66699",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M4.69727 4.6967C5.74616 3.64781 7.08253 2.9335 8.53739 2.64411C9.99225 2.35472 11.5002 2.50325 12.8707 3.07091C14.2411 3.63856 15.4125 4.59986 16.2366 5.83323C17.0607 7.0666 17.5006 8.51664 17.5006 10C17.5006 11.4834 17.0607 12.9334 16.2366 14.1668C15.4125 15.4001 14.2411 16.3614 12.8707 16.9291C11.5002 17.4968 9.99225 17.6453 8.53739 17.3559C7.08253 17.0665 5.74616 16.3522 4.69727 15.3033",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10 6.25V7.00737",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8.125 8.52196C8.17767 8.07456 8.40336 7.66555 8.75379 7.38246C9.10421 7.09936 9.55152 6.96468 10 7.00722",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M10 13.7501V12.9927",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M11.875 11.4778C11.8223 11.9252 11.5966 12.3343 11.2462 12.6174C10.8958 12.9004 10.4485 13.0351 10 12.9926",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M11.8273 8.19148C11.6899 7.8243 11.4381 7.51099 11.1091 7.29776C10.7801 7.08453 10.3913 6.98266 10 7.00718",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8.17188 11.8083C8.30928 12.1755 8.56105 12.4888 8.89004 12.702C9.21904 12.9152 9.60785 13.0171 9.99913 12.9926",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8.125 8.52216C8.125 8.83316 8.23276 9.13455 8.42993 9.37506C8.6271 9.61556 8.90151 9.78033 9.20647 9.84132L10.7935 10.1587C11.0985 10.2197 11.3729 10.3845 11.5701 10.625C11.7672 10.8655 11.875 11.1669 11.875 11.4779",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),dt=({size:n="24",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M19 11.5V19.5H5V11.5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M21 7.5H3V11.5H21V7.5Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 19.5V7.5",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 7.5H8.14286C7.57454 7.5 7.02949 7.23661 6.62763 6.76777C6.22576 6.29893 6 5.66304 6 5C6 4.33696 6.22576 3.70107 6.62763 3.23223C7.02949 2.76339 7.57454 2.5 8.14286 2.5C11.1429 2.5 12 7.5 12 7.5Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M12 7.5H15.8571C16.4255 7.5 16.9705 7.23661 17.3724 6.76777C17.7742 6.29893 18 5.66304 18 5C18 4.33696 17.7742 3.70107 17.3724 3.23223C16.9705 2.76339 16.4255 2.5 15.8571 2.5C12.8571 2.5 12 7.5 12 7.5Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),ut=({size:n="24",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M10 16L16 10",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M11.1339 9.36612C11.622 9.85427 11.622 10.6457 11.1339 11.1339C10.6457 11.622 9.85427 11.622 9.36612 11.1339C8.87796 10.6457 8.87796 9.85427 9.36612 9.36612C9.85427 8.87796 10.6457 8.87796 11.1339 9.36612Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M17.1339 14.9491C17.622 15.4373 17.622 16.2287 17.1339 16.7169C16.6457 17.205 15.8543 17.205 15.3661 16.7169C14.878 16.2287 14.878 15.4373 15.3661 14.9491C15.8543 14.461 16.6457 14.461 17.1339 14.9491Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M5.5 16C3.65917 16 2.5 14.8408 2.5 13V6C2.5 4.15917 3.9925 2.9165 5.83333 2.9165H14.1667C16.0075 2.9165 17.5 4.15917 17.5 6",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),pt=({size:n="24",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M20.4843 14.1202L14.1264 20.4797C13.9617 20.6447 13.7661 20.7755 13.5509 20.8648C13.3356 20.9541 13.1048 21 12.8717 21C12.6387 21 12.4079 20.9541 12.1926 20.8648C11.9773 20.7755 11.7817 20.6447 11.617 20.4797L4 12.8696V4H12.8673L20.4843 11.619C20.8146 11.9514 21 12.401 21 12.8696C21 13.3383 20.8146 13.7879 20.4843 14.1202V14.1202Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9 9H9.01006",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});var ce={exports:{}};(function(n,t){(function(o,s){n.exports=s(b)})(ke,function(o){return function(s){var r={};function i(l){if(r[l])return r[l].exports;var u=r[l]={i:l,l:!1,exports:{}};return s[l].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=s,i.c=r,i.d=function(l,u,m){i.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:m})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,u){if(1&u&&(l=i(l)),8&u||4&u&&typeof l=="object"&&l&&l.__esModule)return l;var m=Object.create(null);if(i.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:l}),2&u&&typeof l!="string")for(var a in l)i.d(m,a,(function(k){return l[k]}).bind(null,a));return m},i.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(u,"a",u),u},i.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},i.p="",i(i.s=4)}([function(s,r,i){s.exports=i(2)()},function(s,r){s.exports=o},function(s,r,i){var l=i(3);function u(){}function m(){}m.resetWarningCache=u,s.exports=function(){function a(f,j,O,T,P,w){if(w!==l){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}function k(){return a}a.isRequired=a;var h={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:k,element:a,elementType:a,instanceOf:k,node:a,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:m,resetWarningCache:u};return h.PropTypes=h,h}},function(s,r,i){s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(s,r,i){i.r(r);var l=i(1),u=i.n(l),m=i(0),a=i.n(m),k=function(g){return g!==0};function h(){return(h=Object.assign?Object.assign.bind():function(g){for(var p=1;p<arguments.length;p++){var C=arguments[p];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(g[y]=C[y])}return g}).apply(this,arguments)}function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function j(g,p){for(var C=0;C<p.length;C++){var y=p[C];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function O(g,p){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,y){return C.__proto__=y,C})(g,p)}function T(g){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,y=M(g);if(p){var N=M(this).constructor;C=Reflect.construct(y,arguments,N)}else C=y.apply(this,arguments);return P(this,C)}}function P(g,p){if(p&&(f(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(g)}function w(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function M(g){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}function S(g,p,C){return p in g?Object.defineProperty(g,p,{value:C,enumerable:!0,configurable:!0,writable:!0}):g[p]=C,g}var E=function(g){(function(x,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(d&&d.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),d&&O(x,d)})(N,g);var p,C,y=T(N);function N(x){var d;return function(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")}(this,N),S(w(d=y.call(this,x)),"continueOpenCollapsible",function(){var v=w(d).innerRef;d.setState({height:v.scrollHeight,transition:"height ".concat(d.props.transitionTime,"ms ").concat(d.props.easing),isClosed:!1,hasBeenOpened:!0,inTransition:k(v.scrollHeight),shouldOpenOnNextCycle:!1})}),S(w(d),"handleTriggerClick",function(v){d.props.triggerDisabled||d.state.inTransition||(v.preventDefault(),d.props.handleTriggerClick?d.props.handleTriggerClick(d.props.accordionPosition):d.state.isClosed===!0?(d.openCollapsible(),d.props.onOpening(),d.props.onTriggerOpening()):(d.closeCollapsible(),d.props.onClosing(),d.props.onTriggerClosing()))}),S(w(d),"handleTransitionEnd",function(v){v.target===d.innerRef&&(d.state.isClosed?(d.setState({inTransition:!1}),d.props.onClose()):(d.setState({height:"auto",overflow:d.props.overflowWhenOpen,inTransition:!1}),d.props.onOpen()))}),S(w(d),"setInnerRef",function(v){return d.innerRef=v}),d.timeout=void 0,d.contentId=x.contentElementId||"collapsible-content-".concat(Date.now()),d.triggerId=x.triggerElementProps.id||"collapsible-trigger-".concat(Date.now()),x.open?d.state={isClosed:!1,shouldSwitchAutoOnNextCycle:!1,height:"auto",transition:"none",hasBeenOpened:!0,overflow:x.overflowWhenOpen,inTransition:!1}:d.state={isClosed:!0,shouldSwitchAutoOnNextCycle:!1,height:0,transition:"height ".concat(x.transitionTime,"ms ").concat(x.easing),hasBeenOpened:!1,overflow:"hidden",inTransition:!1},d}return p=N,(C=[{key:"componentDidUpdate",value:function(x,d){var v=this;this.state.shouldOpenOnNextCycle&&this.continueOpenCollapsible(),d.height!=="auto"&&d.height!==0||this.state.shouldSwitchAutoOnNextCycle!==!0||(window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){v.setState({height:0,overflow:"hidden",isClosed:!0,shouldSwitchAutoOnNextCycle:!1})},50)),x.open!==this.props.open&&(this.props.open===!0?(this.openCollapsible(),this.props.onOpening()):(this.closeCollapsible(),this.props.onClosing()))}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timeout)}},{key:"closeCollapsible",value:function(){var x=this.innerRef;this.setState({shouldSwitchAutoOnNextCycle:!0,height:x.scrollHeight,transition:"height ".concat(this.props.transitionCloseTime?this.props.transitionCloseTime:this.props.transitionTime,"ms ").concat(this.props.easing),inTransition:k(x.scrollHeight)})}},{key:"openCollapsible",value:function(){this.setState({inTransition:k(this.innerRef.scrollHeight),shouldOpenOnNextCycle:!0})}},{key:"renderNonClickableTriggerElement",value:function(){var x=this.props,d=x.triggerSibling,v=x.classParentString;if(!d)return null;switch(f(d)){case"string":return u.a.createElement("span",{className:"".concat(v,"__trigger-sibling")},d);case"function":return d();case"object":return d;default:return null}}},{key:"render",value:function(){var x=this,d={height:this.state.height,WebkitTransition:this.state.transition,msTransition:this.state.transition,transition:this.state.transition,overflow:this.state.overflow},v=this.state.isClosed?"is-closed":"is-open",R=this.props.triggerDisabled?"is-disabled":"",ue=this.state.isClosed===!1&&this.props.triggerWhenOpen!==void 0?this.props.triggerWhenOpen:this.props.trigger,pe=this.props.contentContainerTagName,he=this.props.triggerTagName,ge=this.props.lazyRender&&!this.state.hasBeenOpened&&this.state.isClosed&&!this.state.inTransition?null:this.props.children,F=this.props,A=F.classParentString,me=F.contentOuterClassName,fe=F.contentInnerClassName,Ce="".concat(A,"__trigger ").concat(v," ").concat(R," ").concat(this.state.isClosed?this.props.triggerClassName:this.props.triggerOpenedClassName),be="".concat(A," ").concat(this.state.isClosed?this.props.className:this.props.openedClassName),ye="".concat(A,"__contentOuter ").concat(me),xe="".concat(A,"__contentInner ").concat(fe);return u.a.createElement(pe,h({className:be.trim()},this.props.containerElementProps),u.a.createElement(he,h({id:this.triggerId,className:Ce.trim(),onClick:this.handleTriggerClick,style:this.props.triggerStyle&&this.props.triggerStyle,onKeyPress:function(V){var q=V.key;(q===" "&&x.props.triggerTagName.toLowerCase()!=="button"||q==="Enter")&&x.handleTriggerClick(V)},tabIndex:this.props.tabIndex&&this.props.tabIndex,"aria-expanded":!this.state.isClosed,"aria-disabled":this.props.triggerDisabled,"aria-controls":this.contentId,role:"button"},this.props.triggerElementProps),ue),this.renderNonClickableTriggerElement(),u.a.createElement("div",{id:this.contentId,className:ye.trim(),style:d,onTransitionEnd:this.handleTransitionEnd,ref:this.setInnerRef,hidden:this.props.contentHiddenWhenClosed&&this.state.isClosed&&!this.state.inTransition,role:"region","aria-labelledby":this.triggerId},u.a.createElement("div",{className:xe.trim()},ge)))}}])&&j(p.prototype,C),Object.defineProperty(p,"prototype",{writable:!1}),N}(l.Component);E.propTypes={transitionTime:a.a.number,transitionCloseTime:a.a.number,triggerTagName:a.a.string,easing:a.a.string,open:a.a.bool,containerElementProps:a.a.object,triggerElementProps:a.a.object,contentElementId:a.a.string,classParentString:a.a.string,className:a.a.string,openedClassName:a.a.string,triggerStyle:a.a.object,triggerClassName:a.a.string,triggerOpenedClassName:a.a.string,contentOuterClassName:a.a.string,contentInnerClassName:a.a.string,accordionPosition:a.a.oneOfType([a.a.string,a.a.number]),handleTriggerClick:a.a.func,onOpen:a.a.func,onClose:a.a.func,onOpening:a.a.func,onClosing:a.a.func,onTriggerOpening:a.a.func,onTriggerClosing:a.a.func,trigger:a.a.oneOfType([a.a.string,a.a.element]),triggerWhenOpen:a.a.oneOfType([a.a.string,a.a.element]),triggerDisabled:a.a.bool,lazyRender:a.a.bool,overflowWhenOpen:a.a.oneOf(["hidden","visible","auto","scroll","inherit","initial","unset"]),contentHiddenWhenClosed:a.a.bool,triggerSibling:a.a.oneOfType([a.a.string,a.a.element,a.a.func]),tabIndex:a.a.number,contentContainerTagName:a.a.string,children:a.a.oneOfType([a.a.string,a.a.element])},E.defaultProps={transitionTime:400,transitionCloseTime:null,triggerTagName:"span",easing:"linear",open:!1,classParentString:"Collapsible",triggerDisabled:!1,lazyRender:!1,overflowWhenOpen:"hidden",contentHiddenWhenClosed:!1,openedClassName:"",triggerStyle:null,triggerClassName:"",triggerOpenedClassName:"",contentOuterClassName:"",contentInnerClassName:"",className:"",triggerSibling:null,onOpen:function(){},onClose:function(){},onOpening:function(){},onClosing:function(){},onTriggerOpening:function(){},onTriggerClosing:function(){},tabIndex:null,contentContainerTagName:"div",triggerElementProps:{}},r.default=E}])})})(ce);var ht=ce.exports;const gt=ve(ht),$=({pageLink:n,icon:t,text:o,triggerHandler:s,subItems:r=[]})=>{const i="group py-1.5 my-0.5 rounded-rounded flex text-grey-50 hover:bg-grey-10 items-center px-2",l="bg-grey-10 is-active",u=b.useCallback(({isActive:m})=>m?`${i} ${l}`:i,[]);return e(gt,{transitionTime:150,transitionCloseTime:150,...s(),trigger:c(Y,{className:u,to:n,children:[e("span",{className:"items-start",children:t}),e("span",{className:"ml-3 group-[.is-active]:text-grey-90",children:o})]}),children:(r==null?void 0:r.length)>0&&r.map(({pageLink:m,text:a})=>e(de,{pageLink:m,text:a}))})},de=({pageLink:n,text:t})=>{const o="py-0.5 px-1 my-0.5 rounded-base flex hover:bg-grey-10",s="bg-grey-10 font-semibold",r=b.useCallback(({isActive:i})=>i?`${o} ${s}`:o,[]);return e(Y,{className:r,to:n,children:e("span",{className:"ml-3 text-grey-90 text-small",children:t})})};$.SubItem=de;const mt=({size:n="16",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M8 17H4.66667C4.22464 17 3.80072 16.8361 3.48816 16.5444C3.17559 16.2527 3 15.857 3 15.4444V4.55556C3 4.143 3.17559 3.74733 3.48816 3.45561C3.80072 3.16389 4.22464 3 4.66667 3H8",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M13 14L17 10L13 6",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M17 10L8 10",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),ft=()=>{const n=we(),{user:t,isLoading:o}=Ne(),{mutate:s}=Le(),r=ne(),i=()=>{s(void 0,{onSuccess:()=>{n("/login")},onError:l=>{r("Failed to log out",oe(l),"error")}})};return e("div",{className:"h-large w-large",children:c(ze,{children:[e(Ze,{asChild:!0,disabled:o,children:e("div",{className:"h-full w-full cursor-pointer",children:e(ie,{user:{...t},isLoading:o,color:"bg-fuschia-40"})})}),c(Ue,{sideOffset:12,side:"bottom",className:"z-30 ml-large min-w-[200px] rounded-rounded border border-grey-20 bg-grey-0 p-xsmall shadow-dropdown",children:[e(K,{className:"mb-1 outline-none",children:c(W,{variant:"ghost",size:"small",className:"w-full justify-start",onClick:()=>n("/a/settings"),children:[e(re,{}),"Settings"]})}),e(K,{className:"outline-none",children:c(W,{variant:"ghost",size:"small",className:"w-full justify-start text-rose-50",onClick:()=>i(),children:[e(mt,{size:20}),"Sign out"]})})]})]})})},I=20,Ct=()=>{const[n,t]=b.useState(-1),{store:o}=X(),s=()=>{const l=s.id++;return{open:n===l,handleTriggerClick:()=>t(l)}};s.id=0;const{isFeatureEnabled:r}=je(),i=r("inventoryService")&&r("stockLocationService");return e("div",{className:"bg-gray-0 h-screen min-w-sidebar max-w-sidebar overflow-y-auto border-r border-grey-20 py-base px-base",children:c("div",{className:"h-full",children:[e("div",{className:"flex justify-between px-2",children:e("div",{className:"flex h-8 w-8 items-center justify-center rounded-circle border border-solid border-gray-300",children:e(ft,{})})}),c("div",{className:"my-base flex flex-col px-2",children:[e("span",{className:"text-small font-medium text-grey-50",children:"Store"}),e("span",{className:"text-medium font-medium text-grey-90",children:o==null?void 0:o.name})]}),c("div",{className:"py-3.5",children:[e($,{pageLink:"/a/orders",icon:e(lt,{size:I}),triggerHandler:s,text:"Orders"}),e($,{pageLink:"/a/products",icon:e(pt,{size:I}),text:"Products",triggerHandler:s}),e($,{pageLink:"/a/customers",icon:e(Fe,{size:I}),triggerHandler:s,text:"Customers"}),i&&e($,{pageLink:"/a/inventory",icon:e(Re,{size:I}),triggerHandler:s,text:"Inventory"}),e($,{pageLink:"/a/discounts",icon:e(ut,{size:I}),triggerHandler:s,text:"Discounts"}),e($,{pageLink:"/a/gift-cards",icon:e(dt,{size:I}),triggerHandler:s,text:"Gift Cards"}),e($,{pageLink:"/a/pricing",icon:e(ct,{size:I}),triggerHandler:s,text:"Pricing"}),e($,{pageLink:"/a/pages",icon:e(G,{size:I}),triggerHandler:s,text:"Page"}),e($,{pageLink:"/a/templates",icon:e(G,{size:I}),triggerHandler:s,text:"Templates"}),e($,{pageLink:"/a/settings",icon:e(re,{size:I}),triggerHandler:s,text:"Settings"})]})]})})},bt=({size:n="24px",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M9.08594 9.03573C9.32104 8.36739 9.78509 7.80383 10.3959 7.44486C11.0067 7.08588 11.7248 6.95466 12.4231 7.07444C13.1214 7.19421 13.7548 7.55725 14.211 8.09925C14.6673 8.64126 14.917 9.32725 14.9159 10.0357C14.9159 12.0357 11.9159 13.0357 11.9159 13.0357",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M11.9961 16.4316H12.0061",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),yt=({size:n="24",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M14 20C13.7968 20.3042 13.505 20.5566 13.154 20.7321C12.803 20.9076 12.4051 21 12 21C11.5949 21 11.197 20.9076 10.846 20.7321C10.495 20.5566 10.2032 20.3042 10 20",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M17.3333 8.2C17.3333 6.82087 16.7714 5.49823 15.7712 4.52304C14.771 3.54786 13.4145 3 12 3C10.5855 3 9.22896 3.54786 8.22876 4.52304C7.22857 5.49823 6.66667 6.82087 6.66667 8.2C6.66667 14.2667 4 16 4 16H20C20 16 17.3333 14.2667 17.3333 8.2Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),xt=({size:n="24px",color:t="currentColor",accentColor:o="#F43F5E",...s})=>c("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[e("path",{d:"M14 20C13.7968 20.3042 13.505 20.5566 13.154 20.7321C12.803 20.9076 12.4051 21 12 21C11.5949 21 11.197 20.9076 10.846 20.7321C10.495 20.5566 10.2032 20.3042 10 20",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.4735 11.7793C18.0077 11.9228 17.5129 12 17.0001 12C16.9947 12 16.9894 12 16.9841 12C17.2526 13.1526 17.6265 14.0517 18.0122 14.7412C18.1157 14.9262 18.2197 15.0955 18.3223 15.25H5.67782C5.78041 15.0955 5.88443 14.9262 5.98793 14.7412C6.72391 13.4256 7.41673 11.347 7.41673 8.2C7.41673 7.026 7.89488 5.89613 8.7524 5.06004C9.61057 4.22333 10.7784 3.75 12.0001 3.75C12.372 3.75 12.7391 3.79389 13.0938 3.87856C13.4571 3.42462 13.8978 3.03537 14.3959 2.73085C13.6453 2.41632 12.831 2.25 12.0001 2.25C10.3927 2.25 8.84747 2.87238 7.70525 3.98604C6.56238 5.10034 5.91673 6.61575 5.91673 8.2C5.91673 8.46632 5.9114 8.7235 5.90126 8.97181L3.58406 15.3759C3.31067 15.5581 3.18742 15.8975 3.28099 16.2132C3.37538 16.5316 3.66795 16.75 4.00006 16.75H20.0001C20.3322 16.75 20.6247 16.5316 20.7191 16.2132C20.8127 15.8975 20.6895 15.5582 20.4161 15.376M3.59055 15.3713L3.59037 15.3718L3.58947 15.3724L3.58787 15.3734L3.58537 15.3751L3.58406 15.3759L3.58945 15.3721C3.5898 15.3718 3.59017 15.3716 3.59055 15.3713ZM3.59055 15.3713L5.90099 8.97837C5.79921 11.4485 5.22124 13.0393 4.67886 14.0088C4.37901 14.5448 4.08562 14.8989 3.87883 15.1117C3.77524 15.2183 3.69289 15.29 3.6417 15.3316C3.61711 15.3516 3.5997 15.3646 3.59055 15.3713ZM20.4108 15.3725L20.4123 15.3734L20.4148 15.3751L20.4157 15.3757C20.4146 15.3749 20.413 15.3737 20.4107 15.3721C20.4019 15.3657 20.384 15.3524 20.3584 15.3316C20.3072 15.29 20.2249 15.2183 20.1213 15.1117C19.9145 14.8989 19.6211 14.5448 19.3213 14.0088C19.0206 13.4713 18.7089 12.7428 18.4735 11.7793M5.90099 8.97837L7.70525 3.98604L5.90126 8.97181C5.90117 8.974 5.90108 8.97619 5.90099 8.97837Z",fill:t}),e("circle",{cx:"17",cy:"7",r:"3",fill:o})]}),kt=({hasNotifications:n=!1,...t})=>e(W,{className:"w-8 h-8",size:"small",...t,children:n?e(xt,{}):e(yt,{})}),vt=({winModifiers:n,macModifiers:t,keys:o})=>{var l;const s=typeof window<"u"&&((l=navigator==null?void 0:navigator.platform)==null?void 0:l.toUpperCase().indexOf("MAC"))>=0;let r;s?Array.isArray(t)?r=t.join(""):r=t:Array.isArray(n)?r=n.join(" + "):r=n;let i;return Array.isArray(o)?i=o.join(" + "):i=o,e("div",{className:"flex items-center text-grey-40",children:c("p",{className:"m-0 inter-base-semibold",children:[c("span",{className:"inter-base-semibold",children:[r," "]}),i]})})},wt=D.forwardRef(({className:n,...t},o)=>e("input",{ref:o,className:L("placeholder:inter-base-regular placeholder-grey-40 focus:outline-none",n),...t})),H=({title:n,length:t,children:o,...s})=>{const[r,i]=D.useState(!0);return c(Je,{open:r,onOpenChange:i,...s,children:[e(Ye,{asChild:!0,children:c("button",{className:"px-base py-small w-full justify-between flex items-center bg-grey-10 rounded-rounded",children:[c("h6",{className:"inter-base-semibold text-grey-90",children:[n,c("span",{className:"inter-base-regular text-grey-40",children:[" (",t,")"]})]}),r?e(Ve,{className:"text-grey-40"}):e(Qe,{className:"text-grey-40"})]})}),e(Xe,{children:o})]})},Nt=({customers:n=[],getLIProps:t,offset:o,selected:s})=>n.length>0?e(H,{title:"Customers",length:(n==null?void 0:n.length)||0,children:e("div",{className:"mt-large",children:e("div",{className:"flex flex-col",children:n==null?void 0:n.map((r,i)=>e("li",{...t({index:o+i}),className:L("px-base group py-1.5 focus:bg-grey-5 rounded-rounded",{"bg-grey-5":s===o+i}),children:c(B,{to:`/a/customers/${r.id}`,className:"py-1.5 flex items-center rounded-rounded justify-between",children:[c("div",{className:"flex items-center gap-x-3",children:[e("div",{className:"w-[20px] h-[20px] shrink-0",children:e(ie,{user:r})}),e("p",{className:"inter-small-regular text-grey-90",children:r!=null&&r.first_name?`${r==null?void 0:r.first_name} ${r==null?void 0:r.last_name}`:r.email})]}),e("span",{className:L("group-focus:visible text-grey-40 inter-small-regular",{invisible:s!==o+i}),children:"Jump to..."})]})}))})})}):null,Lt=({discounts:n=[],getLIProps:t,offset:o,selected:s})=>n.length>0?e(H,{title:"Discounts",length:(n==null?void 0:n.length)||0,children:e("div",{className:"mt-large",children:e("div",{className:"flex flex-col",children:n==null?void 0:n.map((r,i)=>e("li",{...t({index:o+i}),className:L("px-base py-1.5 group focus:bg-grey-5 rounded-rounded",{"bg-grey-5":s===o+i}),children:c(B,{to:`/a/discounts/${r.id}`,className:"py-1.5 flex items-center rounded-rounded justify-between",children:[c("div",{className:"flex items-center gap-x-3",children:[e("div",{className:"py-0.5 px-2 bg-grey-10 rounded-rounded",children:e("span",{className:"inter-small-regular",children:r.code})}),e("p",{className:"inter-small-regular text-grey-90",children:r.rule.description})]}),e("span",{className:L("group-focus:visible text-grey-40 inter-small-regular",{invisible:s!==o+i}),children:"Jump to..."})]})}))})})}):null,jt=({size:n="16",color:t="#9CA3AF"})=>c("svg",{width:n,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M6.00033 6.66663L2.66699 9.99996L6.00033 13.3333",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M13.3337 2.66663V7.33329C13.3337 8.04054 13.0527 8.71881 12.5526 9.21891C12.0525 9.71901 11.3742 9.99996 10.667 9.99996H2.66699",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),St=({size:n="16",color:t="#9CA3AF",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M2.84375 2.84332L7.14047 13.1567L8.66589 8.66546L13.1571 7.14004L2.84375 2.84332Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M8.92188 8.92072L12.5683 12.5672",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ot=({...n})=>c("p",{...n,children:[e("span",{className:"rounded p-1 bg-grey-10",children:e(St,{color:"#9CA3AF",size:"16px"})}),"or",e("span",{className:"rounded p-1 bg-grey-10",children:e(tt,{color:"#9CA3AF",size:"16px"})}),e("span",{className:"rounded -ml-1 p-1 bg-grey-10",children:e(et,{color:"#9CA3AF",size:"16px"})}),"to navigate,",e("span",{className:"rounded p-1 bg-grey-10",children:e(jt,{color:"#9CA3AF",size:"16px"})}),"to select, and",e("span",{className:"rounded px-1.5 py-0.5 bg-grey-10 font-semibold leading-small font-small",children:e(Tt,{})}),e("span",{className:"-mx-2",children:"+"}),e("span",{className:"rounded px-1.5 py-0.5 bg-grey-10 font-semibold leading-small font-small",children:"K"}),"to search anytime"]}),Tt=()=>{var t;const n=typeof window<"u"&&((t=navigator==null?void 0:navigator.platform)==null?void 0:t.toUpperCase().indexOf("MAC"))>=0;return e(Z,{children:n?"⌘":"Ctrl"})},$t=({products:n=[],getLIProps:t,offset:o,selected:s})=>n.length>0?e(H,{title:"Products",length:n.length||0,children:e("div",{className:"mt-large",children:e("div",{className:"flex flex-col",children:n==null?void 0:n.slice(0,5).map((r,i)=>e("li",{...t({index:o+i}),className:L("px-base py-1.5 group focus:bg-grey-5 rounded-rounded",{"bg-grey-5":s===o+i}),children:c(B,{to:`/a/products/${r.id}`,className:"flex items-center justify-between",children:[c("div",{className:"flex items-center gap-x-3",children:[e("img",{src:r.thumbnail,className:"h-[32px] w-[24px] object-cover rounded"}),e("p",{className:"inter-small-regular text-grey-90",children:r.title})]}),e("span",{className:L("group-focus:visible text-grey-40 inter-small-regular",{invisible:s!==o+i}),children:"Jump to..."})]})}))})})}):null,Mt=(n,t)=>{const o=n.getBoundingClientRect(),s=t.getBoundingClientRect();return Math.abs(o.top-s.top)},It=({length:n=0})=>{const t=b.useRef(null),o=b.useRef([]),[s,r]=b.useState({index:0,source:"hover"}),[i,l]=b.useState(!1),u=()=>({"aria-activedescendant":`result-item-${s}`,"aria-controls":"results-list",onKeyDown:h=>{h.key==="ArrowDown"?(h.preventDefault(),r(({index:f})=>({index:f+1>n-1?0:f+1,source:"keyboard"}))):h.key==="ArrowUp"&&(h.preventDefault(),r(({index:f})=>({index:Math.max(f-1,0),source:"keyboard"})))}}),m=({index:h,...f})=>({tabIndex:h,role:"option",id:`result-item-${h}`,key:h,"aria-selected":s===h,ref:j=>{o.current[h]=j},onMouseEnter:j=>{r({index:h,source:"hover"})},...f}),a=()=>({tabIndex:0,role:"listbox",id:"results-list",ref:t}),k=h=>{h.key==="Enter"&&l(!0)};return b.useEffect(()=>{var h;if(i){const f=(h=o.current[s.index])==null?void 0:h.children[0];f==null||f.click()}},[i,s]),b.useLayoutEffect(()=>{if(s.source==="hover")return;const h=o.current[s.index],f=t.current;if(f&&h&&f.scrollHeight>f.clientHeight){const j=f.clientHeight+f.scrollTop,O=Mt(h,f)+(f==null?void 0:f.scrollTop)+h.offsetHeight,T=h.offsetTop;O>j?f.scrollTop=O-f.clientHeight:T<j&&(f.scrollTop=Math.abs(f.offsetTop-h.offsetTop))}},[s]),b.useEffect(()=>(window.addEventListener("keydown",k),()=>{window.removeEventListener("keydown",k)}),[]),{getInputProps:u,getLIProps:m,getULProps:a,selected:s.index}},Et=({orders:n=[],getLIProps:t,offset:o,selected:s})=>n.length>0?e(H,{title:"Orders",length:(n==null?void 0:n.length)||0,children:e("div",{className:"mt-large",children:e("div",{className:"flex flex-col",children:n==null?void 0:n.map((r,i)=>e("li",{...t({index:o+i}),className:L("py-1.5 group focus:bg-grey-5 rounded-rounded",{"bg-grey-5":s===o+i}),children:c(B,{to:`/a/orders/${r.id}`,className:"px-base py-1.5 flex items-center rounded-rounded justify-between",children:[c("div",{className:"flex items-center gap-x-3",children:[c("span",{className:"inter-small-semibold",children:["#",r.display_id]}),e("p",{className:"inter-small-regular text-grey-90",children:r.email})]}),e("span",{className:L("group-focus:visible text-grey-40 inter-small-regular",{invisible:s!==o+i}),children:"Jump to..."})]})}))})})}):null,J=(...n)=>n.reduce((t,o=[])=>t+o.length,0),Pt=({handleClose:n})=>{const[t,o]=D.useState(""),s=Ge(t,500),r=E=>o(E.target.value),i=()=>{o("")},{orders:l,isFetching:u}=Se({q:s,limit:5,offset:0},{enabled:!!s,keepPreviousData:!0}),{customers:m,isFetching:a}=Oe({q:s,limit:5,offset:0},{enabled:!!s,keepPreviousData:!0,retry:0}),{discounts:k,isFetching:h}=Te({q:s,limit:5,offset:0},{enabled:!!s,keepPreviousData:!0}),{products:f,isFetching:j}=$e({q:s,limit:5},{enabled:!!s,keepPreviousData:!0}),O=h||a||j||u,T=J(f,k,m,l),{getInputProps:P,getLIProps:w,getULProps:M,selected:S}=It({length:T});return e(Q,{open:!0,onOpenChange:n,children:e(Me,{children:e(ee,{className:L("fixed pt-[140px] pb-[100px] z-50 inset-0 backdrop-blur-sm",{flex:T>0}),children:e(te,{className:L("max-w-[640px] flex-1 flex mx-auto bg-grey-0 rounded-rounded shadow-searchModal"),children:c("div",{className:"py-large flex-1 flex flex-col",children:[c("div",{className:"flex items-center gap-x-4 pb-large border-solid px-xlarge border-b border-grey-20",children:[e(se,{className:"text-grey-40"}),e(wt,{className:"flex-1",onChange:r,value:t,placeholder:"Start typing to search...",...P()}),e(le,{className:"bg-grey-0",onClick:i,content:"Clear search",children:e(Ie,{className:"flex text-grey-50"})})]}),e(Ot,{className:"mt-xlarge px-xlarge flex items-center gap-x-3 text-grey-40 inter-small-regular"}),T>0?e("ul",{...M(),className:"flex-1 overflow-y-auto mt-large px-xlarge",children:O?e("div",{className:"w-full pt-2xlarge flex items-center justify-center",children:e(U,{size:"large",variant:"secondary"})}):c(Z,{children:[e("div",{children:e(Et,{orders:l,offset:0,getLIProps:w,selected:S})}),e("div",{className:"mt-xlarge",children:e(Nt,{customers:m,offset:(l==null?void 0:l.length)||0,getLIProps:w,selected:S})}),e("div",{className:"mt-xlarge",children:e(Lt,{discounts:k,offset:(m==null?void 0:m.length)||0,getLIProps:w,selected:S})}),e("div",{className:"mt-xlarge",children:e($t,{products:f,offset:J(m,k),getLIProps:w,selected:S})})]})}):null]})})})})})},Wt=()=>{const[n,t]=b.useState(!1),o=Ee(),s=i=>{i.preventDefault(),i.stopPropagation(),t(l=>!l)},r=()=>{t(!1)};return z("cmd+k",s,{},[]),z("ctrl+k",s,{},[]),z("/",s,{},[]),b.useEffect(()=>{r()},[o]),c(Z,{children:[c("button",{onClick:()=>t(!0),className:"flex basis-1/2 items-center px-small py-[6px]",children:[e(se,{className:"text-grey-40"}),e("div",{className:"ml-5",children:e(vt,{macModifiers:"⌘",winModifiers:"Ctrl",keys:"K"})}),e("span",{className:"ml-xsmall text-grey-40 inter-base-regular",children:"Search anything..."})]}),n&&e(Pt,{handleClose:r})]})},_t=(n,t)=>{b.useEffect(()=>{const o=s=>{t.current.contains(s.target)||n()};return document.addEventListener("click",o),()=>{document.removeEventListener("click",o)}},[t])},Dt=({size:n="20",color:t="currentColor",...o})=>c("svg",{width:n,height:n,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[e("path",{d:"M36.7279 11.2721C43.7573 18.3015 43.7573 29.6985 36.7279 36.7279C29.6984 43.7573 18.3015 43.7573 11.2721 36.7279C4.24264 29.6984 4.24264 18.3015 11.2721 11.2721C18.3015 4.24264 29.6985 4.24264 36.7279 11.2721",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M17 31.999C17 31.999 19.626 29.375 24 29.375C28.376 29.375 31 31.999 31 31.999",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M34 20C33.21 19.03 32.13 18.48 31 18.48C29.87 18.48 28.82 19.03 28 20",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{d:"M20 20C19.21 19.03 18.13 18.48 17 18.48C15.87 18.48 14.82 19.03 14 20",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),At=[["B",1],["Kb",1e3],["Mb",1e6],["Gb",1e9]];function Bt(n){let t;for(const[o,s]of At)n>=s&&(t=`${(n/s).toFixed(2)} ${o}`);return t}const Ht=[["day","d",864e5],["hour","h",36e5],["minute","m",6e4]],Rt=n=>{const t=new Date(n.to).getTime()-new Date(n.from).getTime();for(const[o,s,r]of Ht)if(Math.abs(t)>=r||o==="minute"){const i=Math.abs(t)<=r&&o==="minute",l=t<=0?"ago":"",u=t>0?"in":"",m=Math.abs(t)<1?"<":"",a=Math.max(1,Math.abs(Math.round(t/r)));return{raw:t,rtf:`
          ${m}${u?u+" ":""}
          ${i?"< ":""} 
          ${a}${s} 
          ${l}
        `}}return{raw:0,rtf:""}},Ft=n=>{const{key:t,title:o,icon:s,relativeTimeElapsed:r,shouldShowStatus:i,children:l}=n,u=!!n.date&&new Date(n.date).toLocaleDateString("en-us",{hour12:!0,day:"2-digit",month:"short",hour:"numeric",minute:"numeric",second:"numeric"}),m=!!u&&u.replace(","," at"),a=()=>c("div",{className:"flex cursor-default",children:[!!r&&e("span",{children:r}),i&&e(it,{variant:"primary",className:"ml-2"})]});return e("div",{className:"mx-8 border-b last:border-b-0 border-grey-20",children:e("div",{className:"flex hover:bg-grey-5 -mx-8 px-8 py-6",children:c("div",{className:"relative w-full h-full",children:[c("div",{className:"flex justify-between inter-small-semibold text-grey-90",children:[c("div",{className:"flex",children:[!!s&&s,e("span",{children:o})]}),(!!r||i)&&(m?e(le,{content:m,children:a()}):a())]}),e("div",{className:L(!!s&&"pl-8"),children:l})]})})},t)},zt=({fileName:n,fileSize:t,icon:o,onClick:s})=>c("div",{className:"flex items-center w-full cursor-pointer mt-4",onClick:s??(()=>{}),children:[e("div",{className:"flex items-center justify-center p-2.5 border border-grey-20 rounded-lg",title:n,children:!!o&&o}),c("div",{className:"text-left relative w-full pl-4",children:[e("div",{className:"overflow-hidden truncate inter-small-regular max-w-[80%]",children:n}),!!t&&e("div",{className:"text-grey-40 inter-small-regular",children:t})]})]});var _=(n=>(n.Import="Import",n.Export="Export",n))(_||{});function Zt(n,t,o){let s="";const r=n.type.split("-").reverse().pop(),i=24*60*60*1e3;switch(n.status){case"failed":s=`${t} of ${r}s has failed.`;break;case"canceled":s=`${t} of ${r}s has been canceled.`;break;case"completed":if(o&&Math.abs(o)>i){s=`${t} file is no longer available. The file will only be stored for 24 hours.`;break}else{s=`${t} of ${r}s is done.`;break}case"processing":s=`${t} of ${r}s is being processed. You can safely close the activity tab. We will notify you once your export is ready for download.`;break;case"confirmed":s=`${t} of ${r}s has been confirmed and will start soon.`;break;case"pre_processed":s=`${t} of ${r}s is being prepared.`;break;default:s=`${t} of ${r}s has been created and will start soon.`}return s}function Ut(n){const[t,o]=b.useState(n),s=(t==null?void 0:t.status)||n.status,r={created:2e3,pre_processed:2e3,confirmed:2e3,processing:5e3,completed:!1,canceled:!1,failed:!1}[s],{batch_job:i}=De(n.id,{refetchInterval:r,initialData:{batch_job:n}});return b.useEffect(()=>{o(i)},[i]),b.useMemo(()=>t,[t==null?void 0:t.status,t==null?void 0:t.result])}const Vt=({batchJobs:n})=>e("div",{children:n==null?void 0:n.map(t=>e(qt,{batchJob:t},t.id))}),qt=n=>{var S,E;const t=b.useRef(null),o=ne(),{store:s}=X(),r=Ut(n.batchJob),{mutate:i,error:l}=Pe(r.id),{mutateAsync:u}=We(),{mutateAsync:m}=_e(),a=((S=r.result)==null?void 0:S.file_key)??`${r.type}.csv`,k=Rt({from:new Date,to:r.created_at}),h={"product-import":_.Import,"price-list-import":_.Import,"product-export":_.Export,"order-export":_.Export}[r.type],f=Zt(r,h,k.raw),j=r.status!=="completed"&&r.status!=="failed"&&r.status!=="canceled",O=r.status==="completed"&&((E=r.result)==null?void 0:E.file_key);b.useEffect(()=>{l&&o("Error canceling the batch job",oe(l),"error")},[l]);const T=async()=>{var g,p,C,y,N;if((g=r.result)!=null&&g.file_key)try{const{download_url:x}=await m({file_key:(p=r.result)==null?void 0:p.file_key}),d=document.createElement("a");d.href=x,d.setAttribute("download",`${(C=r.result)==null?void 0:C.file_key}`),(y=t.current)==null||y.appendChild(d),d.click(),(N=t.current)==null||N.removeChild(d)}catch{o("Error",`Something went wrong while downloading the ${h.toLowerCase()} file`,"error")}},P=async()=>{var g,p;if((g=r.result)!=null&&g.file_key)try{await u({file_key:(p=r.result)==null?void 0:p.file_key}),o("Success",`${h} file has been removed`,"success")}catch{o("Error",`Something went wrong while deleting the ${h.toLowerCase()} file`,"error")}},w=()=>{var y,N;const p=r.status!=="completed"&&r.status!=="canceled"?e(U,{size:"medium",variant:"secondary"}):e(st,{className:L({"text-grey-40":Math.abs(k.raw)>864e5}),size:20}),C=(y=r.result)!=null&&y.file_key?Bt(((N=r.result)==null?void 0:N.file_size)??0):{confirmed:`Preparing ${h.toLowerCase()}...`,preprocessing:`Preparing ${h.toLowerCase()}...`,processing:`Processing ${h.toLowerCase()}...`,completed:`Successful ${h.toLowerCase()}`,failed:`Failed batch ${h.toLowerCase()} job`,canceled:`Canceled batch ${h.toLowerCase()} job`}[r.status];return e(zt,{onClick:T,fileName:a,icon:p,fileSize:C})},M=()=>{const g=(p,C,y,N)=>e(W,{onClick:p,size:"small",className:L("flex justify-start inter-small-regular",N),variant:C,children:y});return(O||j)&&c("div",{className:"flex mt-6",children:[O&&c("div",{className:"flex",children:[g(P,"danger","Delete"),g(T,"ghost","Download","ml-2")]}),j&&g(()=>i(),"danger","Cancel")]})};return c(Ft,{title:(s==null?void 0:s.name)??"Medusa Team",icon:e(ot,{className:"mr-3",size:20}),relativeTimeElapsed:k.rtf,date:r.created_at,shouldShowStatus:!0,children:[c("div",{ref:t,className:"flex flex-col inter-small-regular",children:[e("span",{children:f}),w()]}),M()]})},Kt=({onDismiss:n})=>{const t=D.useRef(null),{batchJobs:o,hasPollingError:s,refetch:r}=b.useContext(ae);return _t(n,t),b.useEffect(()=>{r()},[]),c("div",{ref:t,className:"bg-grey-0 w-[400px] shadow-dropdown rounded-rounded top-[64px] bottom-2 right-3 rounded overflow-x-hidden fixed flex flex-col",children:[e("div",{className:"inter-large-semibold pt-7 pl-8 pb-1",children:"Activity"}),s?e(Jt,{}):o?e(Vt,{batchJobs:o}):e(Gt,{})]})},Gt=()=>c("div",{className:"p-4 h-full w-full flex flex-col justify-center items-center",children:[e(rt,{size:36}),e("span",{className:"mt-4 inter-large-semibold text-grey-90",children:"It's quite in here..."}),e("span",{className:"mt-4 text-grey-60 text-center inter-base-regular",children:"You don't have any notifications at the moment, but once you do they will live here."})]}),Jt=()=>c("div",{className:"p-4 h-full w-full flex flex-col justify-center items-center",children:[e(Dt,{size:36}),e("span",{className:"mt-4 inter-large-semibold text-grey-90",children:"Oh no..."}),e("span",{className:"mt-2 text-grey-60 text-center inter-base-regular",children:"Something went wrong while trying to fetch your notifications - We will keep trying!"}),c("div",{className:"flex items-center mt-4",children:[e(U,{size:"small",variant:"secondary"}),e("span",{className:"ml-2.5",children:"Processing..."})]})]}),Yt=({size:n="16",color:t="currentColor",...o})=>e("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:e("path",{d:"M18.9308 5.63282C17.6561 5.04792 16.2892 4.61699 14.8599 4.37018C14.8339 4.36541 14.8079 4.37732 14.7945 4.40112C14.6187 4.7138 14.4239 5.12172 14.2876 5.44234C12.7503 5.2122 11.221 5.2122 9.71527 5.44234C9.57887 5.11459 9.37707 4.7138 9.20048 4.40112C9.18707 4.37811 9.16107 4.36621 9.13504 4.37018C7.70659 4.6162 6.33963 5.04713 5.06411 5.63282C5.05307 5.63758 5.04361 5.64552 5.03732 5.65583C2.44449 9.52947 1.73421 13.3079 2.08265 17.0395C2.08423 17.0577 2.09447 17.0752 2.10867 17.0863C3.81934 18.3426 5.47642 19.1052 7.10273 19.6108C7.12876 19.6187 7.15634 19.6092 7.1729 19.5877C7.55761 19.0624 7.90054 18.5085 8.19456 17.9259C8.21192 17.8918 8.19535 17.8513 8.15989 17.8378C7.61594 17.6315 7.098 17.3799 6.59977 17.0942C6.56037 17.0712 6.55721 17.0148 6.59347 16.9879C6.69831 16.9093 6.80318 16.8275 6.9033 16.745C6.92141 16.7299 6.94665 16.7268 6.96794 16.7363C10.2411 18.2307 13.7846 18.2307 17.0191 16.7363C17.0404 16.726 17.0657 16.7292 17.0846 16.7442C17.1847 16.8268 17.2895 16.9093 17.3952 16.9879C17.4314 17.0148 17.4291 17.0712 17.3897 17.0942C16.8914 17.3855 16.3735 17.6315 15.8288 17.837C15.7933 17.8505 15.7775 17.8918 15.7949 17.9259C16.0952 18.5076 16.4381 19.0616 16.8157 19.587C16.8315 19.6092 16.8599 19.6187 16.8859 19.6108C18.5201 19.1052 20.1772 18.3426 21.8879 17.0863C21.9028 17.0752 21.9123 17.0585 21.9139 17.0403C22.3309 12.7261 21.2154 8.9787 18.9568 5.65662C18.9513 5.64552 18.9419 5.63758 18.9308 5.63282ZM8.68335 14.7673C7.69792 14.7673 6.88594 13.8626 6.88594 12.7515C6.88594 11.6405 7.68217 10.7358 8.68335 10.7358C9.69239 10.7358 10.4965 11.6484 10.4807 12.7515C10.4807 13.8626 9.68451 14.7673 8.68335 14.7673ZM15.329 14.7673C14.3435 14.7673 13.5316 13.8626 13.5316 12.7515C13.5316 11.6405 14.3278 10.7358 15.329 10.7358C16.338 10.7358 17.1421 11.6484 17.1264 12.7515C17.1264 13.8626 16.338 14.7673 15.329 14.7673Z",fill:t})}),Xt=({open:n,onClose:t})=>{const[o,s]=b.useState(""),[r,i]=b.useState(""),[l,u]=b.useState("mailto:support@medusajs.com");return D.useEffect(()=>{u(`mailto:support@medusajs.com?subject=${encodeURI(o)}&body=${encodeURI(r)}`)},[o,r]),e(Q,{open:n,onOpenChange:t,children:e(ee,{className:"fixed z-50 grid top-0 left-0 right-0 bottom-0 place-items-end overflow-y-auto",children:c(te,{className:"bg-grey-0 w-[400px] shadow-dropdown rounded-rounded p-8 top-[64px] bottom-2 right-3 fixed flex flex-col justify-between",children:[c("div",{children:[e(Ae,{className:"inter-xlarge-semibold mb-1",children:"How can we help?"}),e(Be,{className:"inter-small-regular text-grey-50 mb-6",children:"We usually respond in a few hours"}),e(nt,{label:"Subject",value:o,className:"mb-4",placeholder:"What is it about?...",onChange:m=>s(m.target.value)}),e(at,{label:"How can we help?",placeholder:"Write a message...",value:r,onChange:m=>{i(m.target.value)},rows:8,enableEmoji:!0})]}),c("div",{className:"flex flex-col items-center gap-y-base",children:[e("a",{href:"https://discord.gg/medusajs",target:"_blank",rel:"noopener noreferrer",className:"group cursor-pointer w-full",children:c("div",{className:"flex flex-col items-center justify-center rounded-rounded group-hover:bg-grey-5 w-full py-small",children:[e("span",{className:"text-grey-40 mb-3",children:e(Yt,{size:24})}),c("p",{className:"text-grey-40 inter-small-regular text-center leading-6",children:["Feel free to join our community of",e("br",{}),"merchants and e-commerce developers"]})]})}),e("a",{className:"w-full",href:l,children:e(W,{variant:"primary",size:"large",className:"w-full",children:"Send a message"})})]})]})})})},Qt=()=>{const{state:n,toggle:t,close:o}=Ke(!1),{batchJobs:s}=b.useContext(ae),[r,i]=b.useState(!1),l=b.useCallback(u=>{u.stopPropagation(),t()},[t]);return c("div",{className:"sticky top-0 z-40 flex items-center justify-between w-full border-b min-h-topbar max-h-topbar pr-xlarge pl-base bg-grey-0 border-grey-20",children:[e(Wt,{}),c("div",{className:"flex items-center",children:[e(W,{size:"small",variant:"ghost",className:"w-8 h-8 mr-3",onClick:()=>i(!r),children:e(bt,{size:24})}),e(kt,{onClick:l,variant:"ghost",hasNotifications:!!(s!=null&&s.length)})]}),r&&e(Xt,{open:r,onClose:()=>i(!1)}),n&&e(Kt,{onDismiss:o})]})},jn=({children:n})=>c("div",{className:"flex w-full h-screen inter-base-regular text-grey-90",children:[e(He,{containerStyle:{top:74,left:24,bottom:24,right:24}}),e(Ct,{}),e(qe,{children:c("div",{className:"flex flex-col flex-1",children:[e(Qt,{}),e("div",{className:"large:px-xlarge py-xlarge bg-grey-5 min-h-content overflow-y-auto",children:e("main",{className:"xsmall:mx-base small:mx-xlarge medium:mx-4xlarge large:mx-auto large:max-w-7xl large:w-full h-full",children:n})})]})})]});export{jn as default};
