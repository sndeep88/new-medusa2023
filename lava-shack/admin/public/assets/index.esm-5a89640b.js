import{e as m}from"./index-effbfb95.js";var oe=e=>e.type==="checkbox",se=e=>e instanceof Date,P=e=>e==null;const tr=e=>typeof e=="object";var U=e=>!P(e)&&!Array.isArray(e)&&tr(e)&&!se(e),sr=e=>U(e)&&e.target?oe(e.target)?e.target.checked:e.target.value:e,pr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ir=(e,t)=>e.has(pr(t)),ae=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,c=(e,t,r)=>{if(!t||!U(e))return r;const i=ae(t.split(/[,[\].]+?/)).reduce((n,l)=>P(n)?n:n[l],e);return E(i)||i===e?E(e[t])?r:e[t]:i};const ye={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ar=m.createContext(null),be=()=>m.useContext(ar),$r=e=>{const{children:t,...r}=e;return m.createElement(ar.Provider,{value:r},t)};var nr=(e,t,r,i=!0)=>{const n={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const g=l;return t._proxyFormState[g]!==$.all&&(t._proxyFormState[g]=!i||$.all),r&&(r[g]=!0),e[g]}});return n},I=e=>U(e)&&!Object.keys(e).length,ur=(e,t,r)=>{const{name:i,...n}=e;return I(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(l=>t[l]===(!r||$.all))},j=e=>Array.isArray(e)?e:[e],lr=(e,t,r)=>r&&t?e===t:!e||!t||e===t||j(e).some(i=>i&&(i.startsWith(t)||t.startsWith(i)));function Fe(e){const t=m.useRef(e);t.current=e,m.useEffect(()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{r&&r.unsubscribe()}},[e.disabled])}function kr(e){const t=be(),{control:r=t.control,disabled:i,name:n,exact:l}=e||{},[g,d]=m.useState(r._formState),v=m.useRef(!0),w=m.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),k=m.useRef(n);return k.current=n,Fe({disabled:i,callback:m.useCallback(b=>v.current&&lr(k.current,b.name,l)&&ur(b,w.current)&&d({...r._formState,...b}),[r,l]),subject:r._subjects.state}),m.useEffect(()=>(v.current=!0,()=>{v.current=!1}),[]),nr(g,r,w.current,!1)}var Q=e=>typeof e=="string",or=(e,t,r,i)=>{const n=Array.isArray(e);return Q(e)?(i&&t.watch.add(e),c(r,e)):n?e.map(l=>(i&&t.watch.add(l),c(r,l))):(i&&(t.watchAll=!0),r)},ge=e=>typeof e=="function",qe=e=>{for(const t in e)if(ge(e[t]))return!0;return!1};function Sr(e){const t=be(),{control:r=t.control,name:i,defaultValue:n,disabled:l,exact:g}=e||{},d=m.useRef(i);d.current=i,Fe({disabled:l,subject:r._subjects.watch,callback:m.useCallback(k=>{if(lr(d.current,k.name,g)){const b=or(d.current,r._names,k.values||r._formValues);w(E(d.current)||U(b)&&!qe(b)?{...b}:Array.isArray(b)?[...b]:E(b)?n:b)}},[r,g,n])});const[v,w]=m.useState(E(n)?r._getWatch(i):n);return m.useEffect(()=>r._removeUnmounted()),v}function Dr(e){const t=be(),{name:r,control:i=t.control,shouldUnregister:n}=e,l=ir(i._names.array,r),g=Sr({control:i,name:r,defaultValue:c(i._formValues,r,c(i._defaultValues,r,e.defaultValue)),exact:!0}),d=kr({control:i,name:r}),v=m.useRef(i.register(r,{...e.rules,value:g}));return m.useEffect(()=>{const w=(k,b)=>{const x=c(i._fields,k);x&&(x._f.mount=b)};return w(r,!0),()=>{const k=i._options.shouldUnregister||n;(l?k&&!i._stateFlags.action:k)?i.unregister(r):w(r,!1)}},[r,i,l,n]),{field:{name:r,value:g,onChange:m.useCallback(w=>v.current.onChange({target:{value:sr(w),name:r},type:ye.CHANGE}),[r]),onBlur:m.useCallback(()=>v.current.onBlur({target:{value:c(i._formValues,r),name:r},type:ye.BLUR}),[r,i]),ref:w=>{const k=c(i._fields,r);k&&w&&(k._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:b=>w.setCustomValidity(b),reportValidity:()=>w.reportValidity()})}},formState:d,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!c(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!c(d.touchedFields,r)},error:{enumerable:!0,get:()=>c(d.errors,r)}})}}const Hr=e=>e.render(Dr(e));var Cr=(e,t,r,i,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:n||!0}}:{},We=e=>/^\w*$/.test(e),cr=e=>ae(e.replace(/["|']|\]/g,"").split(/\.|\[/));function C(e,t,r){let i=-1;const n=We(t)?[t]:cr(t),l=n.length,g=l-1;for(;++i<l;){const d=n[i];let v=r;if(i!==g){const w=e[d];v=U(w)||Array.isArray(w)?w:isNaN(+n[i+1])?{}:[]}e[d]=v,e=e[d]}return e}const he=(e,t,r)=>{for(const i of r||Object.keys(e)){const n=c(e,i);if(n){const{_f:l,...g}=n;if(l&&t(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else U(g)&&he(g,t)}}};var Y=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},pe=(e,t,r={})=>r.shouldFocus||E(r.shouldFocus)?r.focusName||`${e}.${E(r.focusIndex)?t:r.focusIndex}.`:"",Pe=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length)))),fr=(e,t,r)=>{const i=ae(c(e,r));return C(i,"root",t[r]),C(e,r,i),e},_e=e=>typeof e=="boolean",$e=e=>e.type==="file",de=e=>Q(e)||m.isValidElement(e),He=e=>e.type==="radio",Ae=e=>e instanceof RegExp;const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var dr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe};const Ye={isValid:!1,value:null};var yr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Ye):Ye;function Ze(e,t,r="validate"){if(de(e)||Array.isArray(e)&&e.every(de)||_e(e)&&!e)return{type:r,message:de(e)?e:"",ref:t}}var te=e=>U(e)&&!Ae(e)?e:{value:e,message:""},Be=async(e,t,r,i,n)=>{const{ref:l,refs:g,required:d,maxLength:v,minLength:w,min:k,max:b,pattern:x,validate:D,name:B,valueAsNumber:ee,mount:ne,disabled:z}=e._f;if(!ne||z)return{};const H=g?g[0]:l,K=F=>{i&&H.reportValidity&&(H.setCustomValidity(_e(F)?"":F||" "),H.reportValidity())},R={},Z=He(l),_=oe(l),A=Z||_,V=(ee||$e(l))&&!l.value||t===""||Array.isArray(t)&&!t.length,S=Cr.bind(null,B,r,R),J=(F,p,T,L=X.maxLength,G=X.minLength)=>{const q=F?p:T;R[B]={type:F?L:G,message:q,ref:l,...S(F?L:G,q)}};if(n?!Array.isArray(t)||!t.length:d&&(!A&&(V||P(t))||_e(t)&&!t||_&&!dr(g).isValid||Z&&!yr(g).isValid)){const{value:F,message:p}=de(d)?{value:!!d,message:d}:te(d);if(F&&(R[B]={type:X.required,message:p,ref:H,...S(X.required,p)},!r))return K(p),R}if(!V&&(!P(k)||!P(b))){let F,p;const T=te(b),L=te(k);if(!P(t)&&!isNaN(t)){const G=l.valueAsNumber||t&&+t;P(T.value)||(F=G>T.value),P(L.value)||(p=G<L.value)}else{const G=l.valueAsDate||new Date(t),q=ce=>new Date(new Date().toDateString()+" "+ce),ue=l.type=="time",re=l.type=="week";Q(T.value)&&t&&(F=ue?q(t)>q(T.value):re?t>T.value:G>new Date(T.value)),Q(L.value)&&t&&(p=ue?q(t)<q(L.value):re?t<L.value:G<new Date(L.value))}if((F||p)&&(J(!!F,T.message,L.message,X.max,X.min),!r))return K(R[B].message),R}if((v||w)&&!V&&(Q(t)||n&&Array.isArray(t))){const F=te(v),p=te(w),T=!P(F.value)&&t.length>F.value,L=!P(p.value)&&t.length<p.value;if((T||L)&&(J(T,F.message,p.message),!r))return K(R[B].message),R}if(x&&!V&&Q(t)){const{value:F,message:p}=te(x);if(Ae(F)&&!t.match(F)&&(R[B]={type:X.pattern,message:p,ref:l,...S(X.pattern,p)},!r))return K(p),R}if(D){if(ge(D)){const F=await D(t),p=Ze(F,H);if(p&&(R[B]={...p,...S(X.validate,p.message)},!r))return K(p.message),R}else if(U(D)){let F={};for(const p in D){if(!I(F)&&!r)break;const T=Ze(await D[p](t),H,p);T&&(F={...T,...S(p,T.message)},K(T.message),r&&(R[B]=F))}if(!I(F)&&(R[B]={ref:H,...F},!r))return R}}return K(!0),R};function ke(e,t){return[...e,...j(t)]}var Er=e=>{const t=e.constructor&&e.constructor.prototype;return U(t)&&t.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ne&&(e instanceof Blob||e instanceof FileList))&&(r||U(e)))if(t=r?[]:{},!Array.isArray(e)&&!Er(e))t=e;else for(const i in e)t[i]=W(e[i]);else return e;return t}var Se=e=>Array.isArray(e)?e.map(()=>{}):void 0,Ie=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched});function De(e,t,r){return[...e.slice(0,t),...j(r),...e.slice(t)]}var Ce=(e,t,r)=>Array.isArray(e)?(E(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function Ee(e,t){return[...j(t),...j(e)]}function Rr(e,t){let r=0;const i=[...e];for(const n of t)i.splice(n-r,1),r++;return ae(i).length?i:[]}var Re=(e,t)=>E(t)?[]:Rr(e,j(t).sort((r,i)=>r-i)),Oe=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]};function Or(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=E(e)?i++:e[t[i++]];return e}function Tr(e){for(const t in e)if(!E(e[t]))return!1;return!0}function M(e,t){const r=We(t)?[t]:cr(t),i=r.length==1?e:Or(e,r),n=r[r.length-1];let l;i&&delete i[n];for(let g=0;g<r.slice(0,-1).length;g++){let d=-1,v;const w=r.slice(0,-(g+1)),k=w.length-1;for(g>0&&(l=e);++d<w.length;){const b=w[d];v=v?v[b]:e[b],k===d&&(U(v)&&I(v)||Array.isArray(v)&&Tr(v))&&(l?delete l[b]:delete e[b]),l=v}}return e}var er=(e,t,r)=>(e[t]=r,e);function Kr(e){const t=be(),{control:r=t.control,name:i,keyName:n="id",shouldUnregister:l}=e,[g,d]=m.useState(r._getFieldArray(i)),v=m.useRef(r._getFieldArray(i).map(Y)),w=m.useRef(g),k=m.useRef(i),b=m.useRef(!1);k.current=i,w.current=g,r._names.array.add(i),e.rules&&r.register(i,e.rules);const x=m.useCallback(({values:_,name:A})=>{if(A===k.current||!A){const V=c(_,k.current);Array.isArray(V)&&(d(V),v.current=V.map(Y))}},[]);Fe({callback:x,subject:r._subjects.array});const D=m.useCallback(_=>{b.current=!0,r._updateFieldArray(i,_)},[r,i]),B=(_,A)=>{const V=j(W(_)),S=ke(r._getFieldArray(i),V);r._names.focus=pe(i,S.length-1,A),v.current=ke(v.current,V.map(Y)),D(S),d(S),r._updateFieldArray(i,S,ke,{argA:Se(_)})},ee=(_,A)=>{const V=j(W(_)),S=Ee(r._getFieldArray(i),V);r._names.focus=pe(i,0,A),v.current=Ee(v.current,V.map(Y)),D(S),d(S),r._updateFieldArray(i,S,Ee,{argA:Se(_)})},ne=_=>{const A=Re(r._getFieldArray(i),_);v.current=Re(v.current,_),D(A),d(A),r._updateFieldArray(i,A,Re,{argA:_})},z=(_,A,V)=>{const S=j(W(A)),J=De(r._getFieldArray(i),_,S);r._names.focus=pe(i,_,V),v.current=De(v.current,_,S.map(Y)),D(J),d(J),r._updateFieldArray(i,J,De,{argA:_,argB:Se(A)})},H=(_,A)=>{const V=r._getFieldArray(i);Oe(V,_,A),Oe(v.current,_,A),D(V),d(V),r._updateFieldArray(i,V,Oe,{argA:_,argB:A},!1)},K=(_,A)=>{const V=r._getFieldArray(i);Ce(V,_,A),Ce(v.current,_,A),D(V),d(V),r._updateFieldArray(i,V,Ce,{argA:_,argB:A},!1)},R=(_,A)=>{const V=W(A),S=er(r._getFieldArray(i),_,V);v.current=[...S].map((J,F)=>!J||F===_?Y():v.current[F]),D(S),d([...S]),r._updateFieldArray(i,S,er,{argA:_,argB:V},!0,!1)},Z=_=>{const A=j(W(_));v.current=A.map(Y),D([...A]),d([...A]),r._updateFieldArray(i,[...A],V=>V,{},!0,!1)};return m.useEffect(()=>{if(r._stateFlags.action=!1,Pe(i,r._names)&&r._subjects.state.next({}),b.current&&(!Ie(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([i]).then(_=>{const A=c(_.errors,i),V=c(r._formState.errors,i);(V?!A&&V.type:A&&A.type)&&(A?C(r._formState.errors,i,A):M(r._formState.errors,i),r._subjects.state.next({errors:r._formState.errors}))});else{const _=c(r._fields,i);_&&_._f&&Be(_,c(r._formValues,i),r._options.criteriaMode===$.all,r._options.shouldUseNativeValidation,!0).then(A=>!I(A)&&r._subjects.state.next({errors:fr(r._formState.errors,A,i)}))}r._subjects.watch.next({name:i,values:r._formValues}),r._names.focus&&he(r._fields,_=>!!_&&_.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[g,i,r]),m.useEffect(()=>(!c(r._formValues,i)&&r._updateFieldArray(i),()=>{(r._options.shouldUnregister||l)&&r.unregister(i)}),[i,r,n,l]),{swap:m.useCallback(H,[D,i,r]),move:m.useCallback(K,[D,i,r]),prepend:m.useCallback(ee,[D,i,r]),append:m.useCallback(B,[D,i,r]),remove:m.useCallback(ne,[D,i,r]),insert:m.useCallback(z,[D,i,r]),update:m.useCallback(R,[D,i,r]),replace:m.useCallback(Z,[D,i,r]),fields:m.useMemo(()=>g.map((_,A)=>({..._,[n]:v.current[A]||Y()})),[g,n])}}function Te(){let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}}var ve=e=>P(e)||!tr(e);function ie(e,t){if(ve(e)||ve(t))return e===t;if(se(e)&&se(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const n of r){const l=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const g=t[n];if(se(l)&&se(g)||U(l)&&U(g)||Array.isArray(l)&&Array.isArray(g)?!ie(l,g):l!==g)return!1}}return!0}var je=e=>{const t=e?e.ownerDocument:0,r=t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement;return e instanceof r},gr=e=>e.type==="select-multiple",Ur=e=>He(e)||oe(e),Ue=e=>je(e)&&e.isConnected;function me(e,t={}){const r=Array.isArray(e);if(U(e)||r)for(const i in e)Array.isArray(e[i])||U(e[i])&&!qe(e[i])?(t[i]=Array.isArray(e[i])?[]:{},me(e[i],t[i])):P(e[i])||(t[i]=!0);return t}function hr(e,t,r){const i=Array.isArray(e);if(U(e)||i)for(const n in e)Array.isArray(e[n])||U(e[n])&&!qe(e[n])?E(t)||ve(r[n])?r[n]=Array.isArray(e[n])?me(e[n],[]):{...me(e[n])}:hr(e[n],P(t)?{}:t[n],r[n]):r[n]=!ie(e[n],t[n]);return r}var Le=(e,t)=>hr(e,t,me(t)),_r=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>E(e)?e:t?e===""?NaN:e&&+e:r&&Q(e)?new Date(e):i?i(e):e;function Me(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return $e(t)?t.files:He(t)?yr(e.refs).value:gr(t)?[...t.selectedOptions].map(({value:r})=>r):oe(t)?dr(e.refs).value:_r(E(t.value)?e.ref.value:t.value,e)}var Lr=(e,t,r,i)=>{const n={};for(const l of e){const g=c(t,l);g&&C(n,l,g._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:i}},le=e=>E(e)?void 0:Ae(e)?e.source:U(e)?Ae(e.value)?e.value.source:e.value:e,Mr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function rr(e,t,r){const i=c(e,r);if(i||We(r))return{error:i,name:r};const n=r.split(".");for(;n.length;){const l=n.join("."),g=c(t,l),d=c(e,l);if(g&&!Array.isArray(g)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};n.pop()}return{name:r}}var Pr=(e,t,r,i,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?i.isOnBlur:n.isOnBlur)?!e:(r?i.isOnChange:n.isOnChange)?e:!0,Br=(e,t)=>!ae(c(e,t)).length&&M(e,t);const Nr={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function Ir(e={}){let t={...Nr,...e},r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},n=W(t.defaultValues)||{},l=t.shouldUnregister?{}:W(n),g={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v,w=0,k={};const b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={watch:Te(),array:Te(),state:Te()},D=Ie(t.mode),B=Ie(t.reValidateMode),ee=t.criteriaMode===$.all,ne=s=>a=>{clearTimeout(w),w=window.setTimeout(s,a)},z=async s=>{let a=!1;return b.isValid&&(a=t.resolver?I((await A()).errors):await S(i,!0),!s&&a!==r.isValid&&(r.isValid=a,x.state.next({isValid:a}))),a},H=(s,a=[],u,f,y=!0,o=!0)=>{if(f&&u){if(g.action=!0,o&&Array.isArray(c(i,s))){const h=u(c(i,s),f.argA,f.argB);y&&C(i,s,h)}if(b.errors&&o&&Array.isArray(c(r.errors,s))){const h=u(c(r.errors,s),f.argA,f.argB);y&&C(r.errors,s,h),Br(r.errors,s)}if(b.touchedFields&&o&&Array.isArray(c(r.touchedFields,s))){const h=u(c(r.touchedFields,s),f.argA,f.argB);y&&C(r.touchedFields,s,h)}b.dirtyFields&&(r.dirtyFields=Le(n,l)),x.state.next({isDirty:F(s,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else C(l,s,a)},K=(s,a)=>{C(r.errors,s,a),x.state.next({errors:r.errors})},R=(s,a,u,f)=>{const y=c(i,s);if(y){const o=c(l,s,E(u)?c(n,s):u);E(o)||f&&f.defaultChecked||a?C(l,s,a?o:Me(y._f)):L(s,o),g.mount&&z()}},Z=(s,a,u,f,y)=>{let o=!1;const h={name:s},O=c(r.touchedFields,s);if(b.isDirty){const N=r.isDirty;r.isDirty=h.isDirty=F(),o=N!==h.isDirty}if(b.dirtyFields&&(!u||f)){const N=c(r.dirtyFields,s);ie(c(n,s),a)?M(r.dirtyFields,s):C(r.dirtyFields,s,!0),h.dirtyFields=r.dirtyFields,o=o||N!==c(r.dirtyFields,s)}return u&&!O&&(C(r.touchedFields,s,u),h.touchedFields=r.touchedFields,o=o||b.touchedFields&&O!==u),o&&y&&x.state.next(h),o?h:{}},_=async(s,a,u,f)=>{const y=c(r.errors,s),o=b.isValid&&r.isValid!==a;if(e.delayError&&u?(v=ne(()=>K(s,u)),v(e.delayError)):(clearTimeout(w),v=null,u?C(r.errors,s,u):M(r.errors,s)),(u?!ie(y,u):y)||!I(f)||o){const h={...f,...o?{isValid:a}:{},errors:r.errors,name:s};r={...r,...h},x.state.next(h)}k[s]--,b.isValidating&&!Object.values(k).some(h=>h)&&(x.state.next({isValidating:!1}),k={})},A=async s=>t.resolver?await t.resolver({...l},t.context,Lr(s||d.mount,i,t.criteriaMode,t.shouldUseNativeValidation)):{},V=async s=>{const{errors:a}=await A();if(s)for(const u of s){const f=c(a,u);f?C(r.errors,u,f):M(r.errors,u)}else r.errors=a;return a},S=async(s,a,u={valid:!0})=>{for(const f in s){const y=s[f];if(y){const{_f:o,...h}=y;if(o){const O=d.array.has(o.name),N=await Be(y,c(l,o.name),ee,t.shouldUseNativeValidation,O);if(N[o.name]&&(u.valid=!1,a))break;!a&&(c(N,o.name)?O?fr(r.errors,N,o.name):C(r.errors,o.name,N[o.name]):M(r.errors,o.name))}h&&await S(h,a,u)}}return u.valid},J=()=>{for(const s of d.unMount){const a=c(i,s);a&&(a._f.refs?a._f.refs.every(u=>!Ue(u)):!Ue(a._f.ref))&&xe(s)}d.unMount=new Set},F=(s,a)=>(s&&a&&C(l,s,a),!ie(ce(),n)),p=(s,a,u)=>{const f={...g.mount?l:E(a)?n:Q(s)?{[s]:a}:a};return or(s,d,f,u)},T=s=>ae(c(g.mount?l:n,s,e.shouldUnregister?c(n,s,[]):[])),L=(s,a,u={})=>{const f=c(i,s);let y=a;if(f){const o=f._f;o&&(!o.disabled&&C(l,s,_r(a,o)),y=Ne&&je(o.ref)&&P(a)?"":a,gr(o.ref)?[...o.ref.options].forEach(h=>h.selected=y.includes(h.value)):o.refs?oe(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(y)?!!y.find(O=>O===h.value):y===h.value)):o.refs[0]&&(o.refs[0].checked=!!y):o.refs.forEach(h=>h.checked=h.value===y):$e(o.ref)?o.ref.value="":(o.ref.value=y,o.ref.type||x.watch.next({name:s})))}(u.shouldDirty||u.shouldTouch)&&Z(s,y,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&re(s)},G=(s,a,u)=>{for(const f in a){const y=a[f],o=`${s}.${f}`,h=c(i,o);(d.array.has(s)||!ve(y)||h&&!h._f)&&!se(y)?G(o,y,u):L(o,y,u)}},q=(s,a,u={})=>{const f=c(i,s),y=d.array.has(s),o=W(a);C(l,s,o),y?(x.array.next({name:s,values:l}),(b.isDirty||b.dirtyFields)&&u.shouldDirty&&(r.dirtyFields=Le(n,l),x.state.next({name:s,dirtyFields:r.dirtyFields,isDirty:F(s,o)}))):f&&!f._f&&!P(o)?G(s,o,u):L(s,o,u),Pe(s,d)&&x.state.next({}),x.watch.next({name:s})},ue=async s=>{const a=s.target;let u=a.name;const f=c(i,u);if(f){let y,o;const h=a.type?Me(f._f):sr(s),O=s.type===ye.BLUR||s.type===ye.FOCUS_OUT,N=!Mr(f._f)&&!t.resolver&&!c(r.errors,u)&&!f._f.deps||Pr(O,c(r.touchedFields,u),r.isSubmitted,B,D),fe=Pe(u,d,O);C(l,u,h),O?(f._f.onBlur&&f._f.onBlur(s),v&&v(0)):f._f.onChange&&f._f.onChange(s);const we=Z(u,h,O,!1),Vr=!I(we)||fe;if(!O&&x.watch.next({name:u,type:s.type}),N)return Vr&&x.state.next({name:u,...fe?{}:we});if(!O&&fe&&x.state.next({}),k[u]=(k[u],1),x.state.next({isValidating:!0}),t.resolver){const{errors:ze}=await A([u]),wr=rr(r.errors,i,u),Je=rr(ze,i,wr.name||u);y=Je.error,u=Je.name,o=I(ze)}else y=(await Be(f,c(l,u),ee,t.shouldUseNativeValidation))[u],o=await z(!0);f._f.deps&&re(f._f.deps),_(u,o,y,we)}},re=async(s,a={})=>{let u,f;const y=j(s);if(x.state.next({isValidating:!0}),t.resolver){const o=await V(E(s)?s:y);u=I(o),f=s?!y.some(h=>c(o,h)):u}else s?(f=(await Promise.all(y.map(async o=>{const h=c(i,o);return await S(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!f&&!r.isValid)&&z()):f=u=await S(i);return x.state.next({...!Q(s)||b.isValid&&u!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:u}:{},errors:r.errors,isValidating:!1}),a.shouldFocus&&!f&&he(i,o=>o&&c(r.errors,o),s?y:d.mount),f},ce=s=>{const a={...n,...g.mount?l:{}};return E(s)?a:Q(s)?c(a,s):s.map(u=>c(a,u))},Ke=(s,a)=>({invalid:!!c((a||r).errors,s),isDirty:!!c((a||r).dirtyFields,s),isTouched:!!c((a||r).touchedFields,s),error:c((a||r).errors,s)}),Ar=s=>{s?j(s).forEach(a=>M(r.errors,a)):r.errors={},x.state.next({errors:r.errors})},vr=(s,a,u)=>{const f=(c(i,s,{_f:{}})._f||{}).ref;C(r.errors,s,{...a,ref:f}),x.state.next({name:s,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&f&&f.focus&&f.focus()},mr=(s,a)=>ge(s)?x.watch.subscribe({next:u=>s(p(void 0,a),u)}):p(s,a,!0),xe=(s,a={})=>{for(const u of s?j(s):d.mount)d.mount.delete(u),d.array.delete(u),c(i,u)&&(a.keepValue||(M(i,u),M(l,u)),!a.keepError&&M(r.errors,u),!a.keepDirty&&M(r.dirtyFields,u),!a.keepTouched&&M(r.touchedFields,u),!t.shouldUnregister&&!a.keepDefaultValue&&M(n,u));x.watch.next({}),x.state.next({...r,...a.keepDirty?{isDirty:F()}:{}}),!a.keepIsValid&&z()},Ve=(s,a={})=>{let u=c(i,s);const f=_e(a.disabled);return C(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),u?f&&C(l,s,a.disabled?void 0:c(l,s,Me(u._f))):R(s,!0,a.value),{...f?{disabled:a.disabled}:{},...t.shouldUseNativeValidation?{required:!!a.required,min:le(a.min),max:le(a.max),minLength:le(a.minLength),maxLength:le(a.maxLength),pattern:le(a.pattern)}:{},name:s,onChange:ue,onBlur:ue,ref:y=>{if(y){Ve(s,a),u=c(i,s);const o=E(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,h=Ur(o),O=u._f.refs||[];if(h?O.find(N=>N===o):o===u._f.ref)return;C(i,s,{_f:{...u._f,...h?{refs:[...O.filter(Ue),o,...Array.isArray(c(n,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),R(s,!1,void 0,o)}else u=c(i,s,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(ir(d.array,s)&&g.action)&&d.unMount.add(s)}}},Ge=()=>t.shouldFocusError&&he(i,s=>s&&c(r.errors,s),d.mount),br=(s,a)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=!0,y=W(l);x.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:o,values:h}=await A();r.errors=o,y=h}else await S(i);I(r.errors)?(x.state.next({errors:{},isSubmitting:!0}),await s(y,u)):(a&&await a({...r.errors},u),Ge())}catch(o){throw f=!1,o}finally{r.isSubmitted=!0,x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(r.errors)&&f,submitCount:r.submitCount+1,errors:r.errors})}},Fr=(s,a={})=>{c(i,s)&&(E(a.defaultValue)?q(s,c(n,s)):(q(s,a.defaultValue),C(n,s,a.defaultValue)),a.keepTouched||M(r.touchedFields,s),a.keepDirty||(M(r.dirtyFields,s),r.isDirty=a.defaultValue?F(s,c(n,s)):F()),a.keepError||(M(r.errors,s),b.isValid&&z()),x.state.next({...r}))},xr=(s,a={})=>{const u=s||n,f=W(u),y=s&&!I(s)?f:n;if(a.keepDefaultValues||(n=u),!a.keepValues){if(a.keepDirtyValues)for(const o of d.mount)c(r.dirtyFields,o)?C(y,o,c(l,o)):q(o,c(y,o));else{if(Ne&&E(s))for(const o of d.mount){const h=c(i,o);if(h&&h._f){const O=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;try{if(je(O)){O.closest("form").reset();break}}catch{}}}i={}}l=e.shouldUnregister?a.keepDefaultValues?W(n):{}:f,x.array.next({values:y}),x.watch.next({values:y})}d={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!b.isValid||!!a.keepIsValid,g.watch=!!e.shouldUnregister,x.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:a.keepDirty||a.keepDirtyValues?r.isDirty:!!(a.keepDefaultValues&&!ie(s,n)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:a.keepDirty||a.keepDirtyValues?r.dirtyFields:a.keepDefaultValues&&s?Le(n,s):{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};return{control:{register:Ve,unregister:xe,getFieldState:Ke,_executeSchema:A,_focusError:Ge,_getWatch:p,_getDirty:F,_updateValid:z,_removeUnmounted:J,_updateFieldArray:H,_getFieldArray:T,_subjects:x,_proxyFormState:b,get _fields(){return i},get _formValues(){return l},get _stateFlags(){return g},set _stateFlags(s){g=s},get _defaultValues(){return n},get _names(){return d},set _names(s){d=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:re,register:Ve,handleSubmit:br,watch:mr,setValue:q,getValues:ce,reset:(s,a)=>xr(ge(s)?s(l):s,a),resetField:Fr,clearErrors:Ar,unregister:xe,setError:vr,setFocus:(s,a={})=>{const u=c(i,s),f=u&&u._f;if(f){const y=f.refs?f.refs[0]:f.ref;y.focus&&(y.focus(),a.shouldSelect&&y.select())}},getFieldState:Ke}}function Gr(e={}){const t=m.useRef(),[r,i]=m.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});t.current||(t.current={...Ir(e),formState:r});const n=t.current.control;return n._options=e,Fe({subject:n._subjects.state,callback:m.useCallback(l=>{ur(l,n._proxyFormState,!0)&&(n._formState={...n._formState,...l},i({...n._formState}))},[n])}),m.useEffect(()=>{n._stateFlags.mount||(n._proxyFormState.isValid&&n._updateValid(),n._stateFlags.mount=!0),n._stateFlags.watch&&(n._stateFlags.watch=!1,n._subjects.state.next({})),n._removeUnmounted()}),m.useEffect(()=>{r.submitCount&&n._focusError()},[n,r.submitCount]),t.current.formState=nr(r,n),t.current}export{Hr as C,$r as F,be as a,Sr as b,Kr as c,c as g,Gr as u};
