import{r as P}from"./index-effbfb95.js";var _=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function A(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function F(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function H(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function q(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,a=0;a<n.length;a++)r.indexOf(n[a])===-1&&(i=!1);return i}var j={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":_?173:189,"=":_?61:187,";":_?59:186,"'":222,"[":219,"]":221,"\\":220},K={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},S={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},o={16:!1,18:!1,17:!1,91:!1},l={};for(var C=1;C<20;C++)j["f".concat(C)]=111+C;var u=[],$=!1,N="all",R=[],x=function(t){return j[t.toLowerCase()]||K[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function X(e){N=e||"all"}function O(){return N||"all"}function z(){return u.slice(0)}function I(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function J(e){return typeof e=="string"&&(e=x(e)),u.indexOf(e)!==-1}function Q(e,t){var n,r;e||(e=O());for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i))for(n=l[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;O()===e&&X(t||"all")}function W(e){var t=e.keyCode||e.which||e.charCode,n=u.indexOf(t);if(n>=0&&u.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&u.splice(0,u.length),(t===93||t===224)&&(t=91),t in o){o[t]=!1;for(var r in K)K[r]===t&&(m[r]=!1)}}function Y(e){if(typeof e>"u")Object.keys(l).forEach(function(f){return delete l[f]});else if(Array.isArray(e))e.forEach(function(f){f.key&&T(f)});else if(typeof e=="object")e.key&&T(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1];typeof i=="function"&&(a=i,i=""),T({key:e,scope:i,method:a,splitKey:"+"})}}var T=function(t){var n=t.key,r=t.scope,i=t.method,a=t.splitKey,f=a===void 0?"+":a,s=H(n);s.forEach(function(p){var y=p.split(f),v=y.length,g=y[v-1],c=g==="*"?"*":x(g);if(l[c]){r||(r=O());var w=v>1?F(K,y):[];l[c]=l[c].filter(function(h){var d=i?h.method===i:!0;return!(d&&h.scope===r&&q(h.mods,w))})}})};function D(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(!o[a]&&t.mods.indexOf(+a)>-1||o[a]&&t.mods.indexOf(+a)===-1)&&(i=!1);(t.mods.length===0&&!o[16]&&!o[18]&&!o[17]&&!o[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function U(e,t){var n=l["*"],r=e.keyCode||e.which||e.charCode;if(m.filter.call(this,e)){if((r===93||r===224)&&(r=91),u.indexOf(r)===-1&&r!==229&&u.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(h){var d=S[h];e[h]&&u.indexOf(d)===-1?u.push(d):!e[h]&&u.indexOf(d)>-1?u.splice(u.indexOf(d),1):h==="metaKey"&&e[h]&&u.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(u=u.slice(u.indexOf(d))))}),r in o){o[r]=!0;for(var i in K)K[i]===r&&(m[i]=!0);if(!n)return}for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(o[a]=e[S[a]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(u.indexOf(17)===-1&&u.push(17),u.indexOf(18)===-1&&u.push(18),o[17]=!0,o[18]=!0);var f=O();if(n)for(var s=0;s<n.length;s++)n[s].scope===f&&(e.type==="keydown"&&n[s].keydown||e.type==="keyup"&&n[s].keyup)&&D(e,n[s],f,t);if(r in l){for(var p=0;p<l[r].length;p++)if((e.type==="keydown"&&l[r][p].keydown||e.type==="keyup"&&l[r][p].keyup)&&l[r][p].key){for(var y=l[r][p],v=y.splitKey,g=y.key.split(v),c=[],w=0;w<g.length;w++)c.push(x(g[w]));c.sort().join("")===u.sort().join("")&&D(e,y,f,t)}}}}function Z(e){return R.indexOf(e)>-1}function m(e,t,n){u=[];var r=H(e),i=[],a="all",f=document,s=0,p=!1,y=!0,v="+",g=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(a=t.scope),t.element&&(f=t.element),t.keyup&&(p=t.keyup),t.keydown!==void 0&&(y=t.keydown),t.capture!==void 0&&(g=t.capture),typeof t.splitKey=="string"&&(v=t.splitKey)),typeof t=="string"&&(a=t);s<r.length;s++)e=r[s].split(v),i=[],e.length>1&&(i=F(K,e)),e=e[e.length-1],e=e==="*"?"*":x(e),e in l||(l[e]=[]),l[e].push({keyup:p,keydown:y,scope:a,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:v,element:f});typeof f<"u"&&!Z(f)&&window&&(R.push(f),A(f,"keydown",function(c){U(c,f)},g),$||($=!0,A(window,"focus",function(){u=[]},g)),A(f,"keyup",function(c){U(c,f),W(c)},g))}function ee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(l).forEach(function(n){var r=l[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var M={setScope:X,getScope:O,deleteScope:Q,getPressedKeyCodes:z,isPressed:J,filter:I,trigger:ee,unbind:Y,keyMap:j,modifier:K,modifierMap:S};for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(m[L]=M[L]);if(typeof window<"u"){var te=window.hotkeys;m.noConflict=function(e){return e&&window.hotkeys===m&&(window.hotkeys=te),m},window.hotkeys=m}m.filter=function(){return!0};var G=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},re=function(t){return G(t,["INPUT","TEXTAREA","SELECT"])};function ie(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},a=i.enableOnTags,f=i.filter,s=i.keyup,p=i.keydown,y=i.filterPreventDefault,v=y===void 0?!0:y,g=i.enabled,c=g===void 0?!0:g,w=i.enableOnContentEditable,h=w===void 0?!1:w,d=P.useRef(null),E=P.useCallback(function(b,V){var k,B;return f&&!f(b)?!v:re(b)&&!G(b,a)||(k=b.target)!=null&&k.isContentEditable&&!h?!0:d.current===null||document.activeElement===d.current||(B=d.current)!=null&&B.contains(document.activeElement)?(t(b,V),!0):!1},r?[d,a,f].concat(r):[d,a,f]);return P.useEffect(function(){if(!c){m.unbind(e,E);return}return s&&p!==!0&&(n.keydown=!1),m(e,n||{},E),function(){return m.unbind(e,E)}},[E,e,c]),d}m.isPressed;export{ie as u};
